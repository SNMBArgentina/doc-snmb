{
    "docs": [
        {
            "location": "/", 
            "text": "Documentaci\u00f3n de Geoladris\n\n\nUsuario\n\n\n\n\nGu\u00eda r\u00e1pida\n.\n\n\nConfiguraci\u00f3n de aplicaciones\n.\n\n\nCreaci\u00f3n de aplicaciones\n.\n\n\nDescargas\n.\n\n\n\n\nDesarrollador\n\n\n\n\nGu\u00eda r\u00e1pida\n.\n\n\nC\u00f3digo fuente\n.\n\n\nPlugins\n.\n\n\nAplicaciones\n.\n\n\nMigraci\u00f3n\n.\n\n\nContribuir\n.\n\n\nDesarrollar con Eclipse\n.\n\n\n\n\nReferencia\n\n\n\n\nRegistro de cambios\n.\n\n\nPlugins\n.\n\n\nEventos\n.", 
            "title": "Home"
        }, 
        {
            "location": "/#documentacion-de-geoladris", 
            "text": "", 
            "title": "Documentaci\u00f3n de Geoladris"
        }, 
        {
            "location": "/#usuario", 
            "text": "Gu\u00eda r\u00e1pida .  Configuraci\u00f3n de aplicaciones .  Creaci\u00f3n de aplicaciones .  Descargas .", 
            "title": "Usuario"
        }, 
        {
            "location": "/#desarrollador", 
            "text": "Gu\u00eda r\u00e1pida .  C\u00f3digo fuente .  Plugins .  Aplicaciones .  Migraci\u00f3n .  Contribuir .  Desarrollar con Eclipse .", 
            "title": "Desarrollador"
        }, 
        {
            "location": "/#referencia", 
            "text": "Registro de cambios .  Plugins .  Eventos .", 
            "title": "Referencia"
        }, 
        {
            "location": "/user/quickstart/", 
            "text": "Lo primero que hay que hacer es descargarse la aplicaci\u00f3n \ndemo\n y desplegarla en Tomcat:\n\n\ncurl http://nullisland.geomati.co:8082/repository/releases/org/fao/unredd/apps/demo/6.0.1/demo-6.0.1.war \n $CATALINA_BASE/webapps/demo.war\n\n\n\n\n\nAccedemos al navegador para visualizarla: \nhttp://localhost:8080/demo/\n:\n\n\n\n\nAhora podemos probar a cambiar algo en el visor. Editamos el fichero \n$CATALINA_BASE/webapps/demo/WEB-INF/default_config/public-conf.json\n y modificamos lo siguiente:\n\n\n...\n\n\nlayer-order\n \n:\n \n{\n\n    \n_enabled\n \n:\n \ntrue\n\n\n}\n,\n\n\n...\n\n\n\n\n\n\nAcabamos de habilitar el plugin \nlayer-order\n. Si recargamos el visor:\n\n\n\n\ncomprobaremos que ha aparecido el plugin \nlayer-order\n en la barra de herramientas.\n\n\nA partir de aqu\u00ed podemos seguir \nconfigurando\n la aplicaci\u00f3n \ndemo\n o \ncrear\n una propia.", 
            "title": "Gu\u00eda r\u00e1pida"
        }, 
        {
            "location": "/user/config/", 
            "text": "Directorio de configuraci\u00f3n\n\n\nLas aplicaciones Geoladris se configuran mediante un directorio con ficheros de configuraci\u00f3n.\n\n\nEste directorio deber\u00e1 contener un subdirectorio por cada aplicaci\u00f3n desplegada. Por ejemplo, si se han desplegado las aplicaciones \ndemo.war\n y \nbosques.war\n, y \nGEOLADRIS_CONFIG_DIR\n se ha establecido a \n/var/geoladris\n, se utilizar\u00e1n los directorios \n/var/geoladris/demo\n y \n/var/geoladris/bosques\n para las aplicaciones \ndemo.war\n y \nbosques.war\n respectivamente.\n\n\nSi alguno de esos directorios no existe o si \nGEOLADRIS_CONFIG_DIR\n no se ha configurado correctamente, se utilizar\u00e1 el directorio por defecto para esa aplicaci\u00f3n concreta: \n$CATALINA_BASE/webapps/\napp\n/WEB-INF/default_config\n.\n\n\nPara configurar este directorio en Tomcat hay diferentes formas de hacerlo:\n\n\n\n\nVariable de entorno: \nexport GEOLADRIS_CONFIG_DIR=/var/geoladris\n.\n\n\nPropiedad Java: \n-DGEOLADRIS_CONFIG_DIR=/var/geoladris\n.\n\n\nPar\u00e1metro en \nweb.xml\n:\n\n\n\n\n    \ncontext-param\n\n        \nparam-name\nGEOLADRIS_CONFIG_DIR\n/param-name\n\n        \nparam-value\n/var/geoladris\n/param-value\n\n    \n/context-param\n\n\n\n\n\n\nA partir de ahora utilizaremos \nconfig_dir\n como el directorio de configuraci\u00f3n de una aplicaci\u00f3n.\n\n\nConfiguraci\u00f3n global\n\n\nLa configuraci\u00f3n global de la aplicaci\u00f3n se realiza con el fichero \nconfig_dir\n/public-conf.json\n. Es un fichero de texto que contiene un objeto JSON donde cada propiedad del objeto es el nombre del plugin a configurar y el valor es la configuraci\u00f3n del plugin.\n\n\nLa configuraci\u00f3n del plugin es a su vez otro objeto JSON. Cada propiedad es el nombre del m\u00f3dulo RequireJS a configurar y el valor es la configuraci\u00f3n del m\u00f3dulo, tal y como se puede obtener con \nmodule.config()\n.\n\n\nAparte existen las siguientes propiedades o psedo-m\u00f3dulos:\n\n\n\n\n_enabled\n: Activa (\ntrue\n) o desactiva (\nfalse\n) el plugin. Por defecto es \ntrue\n.\n\n\n_override\n: Sobreescribe (\ntrue\n) o mezcla (\nfalse\n) la configuraci\u00f3n por defecto del plugin. Por defecto es \nfalse\n.\n\n\n\n\nEjemplo:\n\n\n{\n\n  \nbase\n \n:\n \n{\n\n    \nbanner\n \n:\n \n{\n\n      \nhide\n \n:\n \ntrue\n,\n\n      \nshow-flag\n \n:\n \nfalse\n,\n\n      \nshow-logos\n \n:\n \nfalse\n\n    \n}\n\n  \n},\n\n  \nfootnote\n:\n \n{\n\n    \nfootnote\n:\n \n{\n\n      \ntext\n:\n \nfootnote.text\n,\n\n      \nlink\n:\n \nhttp://example.com\n,\n\n      \nalign\n:\n \ncenter\n\n    \n}\n\n  \n},\n\n  \nfeedback\n:\n \n{\n\n    \n_enabled\n \n:\n \nfalse\n\n  \n}\n\n\n}\n\n\n\n\n\n\nDe esta forma es posible no solo cambiar la configuraci\u00f3n de un plugin, sino tambi\u00e9n a\u00f1adir o eliminar plugins para un usuario concreto con la propiedad \n_enabled\n.\n\n\nAutenticaci\u00f3n y configuraci\u00f3n espec\u00edfica de usuario\n\n\nAdem\u00e1s de la configuraci\u00f3n global, se puede adaptadar la aplicaci\u00f3n en funci\u00f3n del usuario que accede a ella. Basta con a\u00f1adir un fichero \nconfig_dir\n/role_conf/\nrole\n.json\n por cada rol con su configuraci\u00f3n espec\u00edfica. El formato de estos ficheros es el mismo que el de \npublic-conf.json\n.\n\n\nPara mayor flexibilidad, la autenticaci\u00f3n es gestionada por los plugins. Actualmente en Geoladris existe un plugin \nauth\n encargado de la autenticaci\u00f3n. Para utilizarlo es necesario incluirlo en el momento de \ncrear\n la aplicaci\u00f3n.\n\n\nLa autenticaci\u00f3n de este plugin se apoya en la autenticaci\u00f3n del contenedor de servlets. Es decir, si se utiliza Tomcat, los usuarios de Geoladris ser\u00e1n aquellos que est\u00e1n configurados en Tomcat.\n\n\nPara configurar la autenticaci\u00f3n de Tomcat, lo m\u00e1s f\u00e1cil es editar el fichero \n$CATALINA_BASE/conf/tomcat-users.xml\n y a\u00f1adir los usuarios y roles que necesitemos. Por ejemplo:\n\n\ntomcat-users\n\n  \nrole\n \nrolename=\nviewer\n/\n\n  \nuser\n \nusername=\nuser\n \npassword=\npass\n \nroles=\nviewer\n/\n\n\n/tomcat-users\n\n\n\n\n\n\nAunque hay otras opciones de configuraci\u00f3n que se pueden encontrar en la \ndocumentaci\u00f3n oficial\n.\n\n\nUna vez se han configurado los usuarios, lo siguiente es restringir qu\u00e9 roles pueden acceder al visor. Para ello, basta con a\u00f1adir la propiedad \nauth.roles\n al fichero \nportal.properties\n del directorio de configuraci\u00f3n:\n\n\nauth.roles=viewer\n\n\n\n\n\nEsta propiedad es una lista de roles separada por comas. Los roles deben de coincidir con los roles definidos en Tomcat.\n\n\nPor \u00faltimo, para configurar el visor de manera espec\u00edfica para cada rol deberemos a\u00f1adir un fichero \nrole\n.json\n a \nconfig_dir\n/role_conf\n por cada rol definido en \nauth.roles\n.\n\n\nPor ejemplo, para habilitar los plugins \nlayer-order\n y \nlayers-editor\n en el rol \nviewer\n, habr\u00e1 que a\u00f1adir un fichero \nrole_conf/viewer.json\n con el siguiente contenido:\n\n\n{\n\n    \nlayer-order\n \n:\n \n{\n\n        \n_enabled\n \n:\n \ntrue\n\n    \n},\n\n    \nlayers-editor\n \n:\n \n{\n\n        \n_enabled\n \n:\n \ntrue\n\n    \n}\n\n\n}\n\n\n\n\n\n\nTraducciones\n\n\nCon Geoladris se pueden configurar las cadenas de texto que aparecen en el visor e incluso escribirlas en diferentes idiomas.\n\n\nPara ello, basta con crear un directorio \nconfig_dir\n/messages\n que contenga ficheros \nmessages_\nlang\n.properties\n. \nlang\n es el c\u00f3digo del idioma seg\u00fan la nomenclatura \nISO 639-1\n de dos letras.\n\n\nPor ejemplo, para tener traducciones en ingl\u00e9s y espa\u00f1ol habr\u00eda que crear los ficheros \nmessages_en.properties\n y \nmessages_es.properties\n. Adem\u00e1s, existe un fichero \nmessages.properties\n (sin el sufijo del idioma) con las traducciones por defecto, que puede ser una copia de los anteriores.\n\n\nUn ejemplo de fichero de traducciones:\n\n\n...\nbase_layers=Capas Base\ncancel=Cancelar\nchart=Gr\\u00e1fico\ndata_source=Fuente de datos\n...\n\n\n\n\n\nGeoladris reconoce las siguientes traducciones:\n\n\n\n\ntitle\n: T\u00edtulo de la p\u00e1gina HTML.\n\n\n\n\nAparte, cada plugin define sus propias traducciones. Para ver qu\u00e9 traducciones hay disponibles, ver \nreferencia\n.\n\n\nPara a\u00f1adir la posibilidad de cambiar de un idioma a otro en el visor, existe el plugin \nlanguage-buttons\n.\n\n\nA\u00f1adir plugins despu\u00e9s de desplegar\n\n\nUna de las funcionalidades m\u00e1s interesantes de Geoladris es el despliegue de funcionalidad en caliente: es posible incluir nuevos plugins sin tener que parar y reiniciar el servidor.\n\n\nPara esto, basta con copiar el plugin que se desea incluir dentro del directorio \nconfig_dir\n/plugins\n, \nconfigurarlo\n en caso necesario y recargar el navegador.\n\n\nLa \u00fanica limitaci\u00f3n es que los plugins han de ser plugins \ncliente\n; es decir, plugins con c\u00f3digo JavaScript exclusivamente. No es posible desplegar en caliente c\u00f3digo Java con nuevos servicios.\n\n\nRecursos est\u00e1ticos\n\n\nEn ocasiones es \u00fatil poder servir recursos est\u00e1ticos directamente desde la aplicaci\u00f3n web. Para eso existe el directorio \nconfig_dir\n/static\n. Cualquier fichero que se incluya en este directorio se servir\u00e1 autom\u00e1ticamente a trav\u00e9s de la URL \nhttp://\nhost\n/\napp\n/static/*\n. Por ejemplo, se podr\u00eda acceder a un fichero \nconfig_dir\n/static/header.png\n a trav\u00e9s de \nhttp://localhost:8080/demo/static/header.png\n.\n\n\nGeoladris reconoce algunos fichero est\u00e1ticos espec\u00edficos:\n\n\n\n\nstatic/img/favicon.png\n: Favicon de la p\u00e1gina HTML.\n\n\n\n\nconfig_dir\n/portal.properties\n\n\nFichero de propiedades. Cada plugin define sus propiedades (ver \nreferencia\n). Estas propiedades son privadas y nunca abandonan el servidor, por lo que es un buen sitio para almacenar contrase\u00f1as y otra informaci\u00f3n sensible.\n\n\nConfigurar cach\u00e9\n\n\nLa configuraci\u00f3n del portal se obtiene a partir de varios ficheros (configuraci\u00f3n global y espec\u00edfica de usuario) e incluso puede obtenerse de una base de datos o de un servicio externo para \ndesarrollos personalizados\n. En cualquier caso, obtenerla requiere un tiempo que puede hacer que el visor se ralentice cada vez.\n\n\nPara ello, Geoladris proporciona una cach\u00e9 que se puede configurar mediante dos variables:\n\n\n\n\nGEOLADRIS_CONFIG_CACHE\n: \ntrue\n/\nfalse\n. Determina si se utiliza la cach\u00e9 o no. Por defecto es \nfalse\n.\n\n\nGEOLADRIS_CACHE_TIMEOUT\n: N\u00famero m\u00e1ximo de segundos que se mantiene la cach\u00e9. Si no se especifica, la cach\u00e9 se mantiene siempre y es necesario reiniciar el servidor para releer la configuraci\u00f3n.\n\n\n\n\nDe la misma manera que el directorio de configuraci\u00f3n, estas variables pueden establecerse de varias maneras:\n\n\n\n\nVariable de entorno: \nexport GEOLADRIS_CONFIG_CACHE=true\n.\n\n\nPropiedad Java: \n-DGEOLADRIS_CONFIG_CACHE=true\n.\n\n\nPar\u00e1metro en \nweb.xml\n:\n\n\n\n\n    \ncontext-param\n\n        \nparam-name\nGEOLADRIS_CONFIG_CACHE\n/param-name\n\n        \nparam-value\ntrue\n/param-value\n\n    \n/context-param", 
            "title": "Configuraci\u00f3n de aplicaciones"
        }, 
        {
            "location": "/user/config/#directorio-de-configuracion", 
            "text": "Las aplicaciones Geoladris se configuran mediante un directorio con ficheros de configuraci\u00f3n.  Este directorio deber\u00e1 contener un subdirectorio por cada aplicaci\u00f3n desplegada. Por ejemplo, si se han desplegado las aplicaciones  demo.war  y  bosques.war , y  GEOLADRIS_CONFIG_DIR  se ha establecido a  /var/geoladris , se utilizar\u00e1n los directorios  /var/geoladris/demo  y  /var/geoladris/bosques  para las aplicaciones  demo.war  y  bosques.war  respectivamente.  Si alguno de esos directorios no existe o si  GEOLADRIS_CONFIG_DIR  no se ha configurado correctamente, se utilizar\u00e1 el directorio por defecto para esa aplicaci\u00f3n concreta:  $CATALINA_BASE/webapps/ app /WEB-INF/default_config .  Para configurar este directorio en Tomcat hay diferentes formas de hacerlo:   Variable de entorno:  export GEOLADRIS_CONFIG_DIR=/var/geoladris .  Propiedad Java:  -DGEOLADRIS_CONFIG_DIR=/var/geoladris .  Par\u00e1metro en  web.xml :        context-param \n         param-name GEOLADRIS_CONFIG_DIR /param-name \n         param-value /var/geoladris /param-value \n     /context-param   A partir de ahora utilizaremos  config_dir  como el directorio de configuraci\u00f3n de una aplicaci\u00f3n.", 
            "title": "Directorio de configuraci\u00f3n"
        }, 
        {
            "location": "/user/config/#configuracion-global", 
            "text": "La configuraci\u00f3n global de la aplicaci\u00f3n se realiza con el fichero  config_dir /public-conf.json . Es un fichero de texto que contiene un objeto JSON donde cada propiedad del objeto es el nombre del plugin a configurar y el valor es la configuraci\u00f3n del plugin.  La configuraci\u00f3n del plugin es a su vez otro objeto JSON. Cada propiedad es el nombre del m\u00f3dulo RequireJS a configurar y el valor es la configuraci\u00f3n del m\u00f3dulo, tal y como se puede obtener con  module.config() .  Aparte existen las siguientes propiedades o psedo-m\u00f3dulos:   _enabled : Activa ( true ) o desactiva ( false ) el plugin. Por defecto es  true .  _override : Sobreescribe ( true ) o mezcla ( false ) la configuraci\u00f3n por defecto del plugin. Por defecto es  false .   Ejemplo:  { \n   base   :   { \n     banner   :   { \n       hide   :   true , \n       show-flag   :   false , \n       show-logos   :   false \n     } \n   }, \n   footnote :   { \n     footnote :   { \n       text :   footnote.text , \n       link :   http://example.com , \n       align :   center \n     } \n   }, \n   feedback :   { \n     _enabled   :   false \n   }  }   De esta forma es posible no solo cambiar la configuraci\u00f3n de un plugin, sino tambi\u00e9n a\u00f1adir o eliminar plugins para un usuario concreto con la propiedad  _enabled .", 
            "title": "Configuraci\u00f3n global"
        }, 
        {
            "location": "/user/config/#autenticacion-y-configuracion-especifica-de-usuario", 
            "text": "Adem\u00e1s de la configuraci\u00f3n global, se puede adaptadar la aplicaci\u00f3n en funci\u00f3n del usuario que accede a ella. Basta con a\u00f1adir un fichero  config_dir /role_conf/ role .json  por cada rol con su configuraci\u00f3n espec\u00edfica. El formato de estos ficheros es el mismo que el de  public-conf.json .  Para mayor flexibilidad, la autenticaci\u00f3n es gestionada por los plugins. Actualmente en Geoladris existe un plugin  auth  encargado de la autenticaci\u00f3n. Para utilizarlo es necesario incluirlo en el momento de  crear  la aplicaci\u00f3n.  La autenticaci\u00f3n de este plugin se apoya en la autenticaci\u00f3n del contenedor de servlets. Es decir, si se utiliza Tomcat, los usuarios de Geoladris ser\u00e1n aquellos que est\u00e1n configurados en Tomcat.  Para configurar la autenticaci\u00f3n de Tomcat, lo m\u00e1s f\u00e1cil es editar el fichero  $CATALINA_BASE/conf/tomcat-users.xml  y a\u00f1adir los usuarios y roles que necesitemos. Por ejemplo:  tomcat-users \n   role   rolename= viewer / \n   user   username= user   password= pass   roles= viewer /  /tomcat-users   Aunque hay otras opciones de configuraci\u00f3n que se pueden encontrar en la  documentaci\u00f3n oficial .  Una vez se han configurado los usuarios, lo siguiente es restringir qu\u00e9 roles pueden acceder al visor. Para ello, basta con a\u00f1adir la propiedad  auth.roles  al fichero  portal.properties  del directorio de configuraci\u00f3n:  auth.roles=viewer  Esta propiedad es una lista de roles separada por comas. Los roles deben de coincidir con los roles definidos en Tomcat.  Por \u00faltimo, para configurar el visor de manera espec\u00edfica para cada rol deberemos a\u00f1adir un fichero  role .json  a  config_dir /role_conf  por cada rol definido en  auth.roles .  Por ejemplo, para habilitar los plugins  layer-order  y  layers-editor  en el rol  viewer , habr\u00e1 que a\u00f1adir un fichero  role_conf/viewer.json  con el siguiente contenido:  { \n     layer-order   :   { \n         _enabled   :   true \n     }, \n     layers-editor   :   { \n         _enabled   :   true \n     }  }", 
            "title": "Autenticaci\u00f3n y configuraci\u00f3n espec\u00edfica de usuario"
        }, 
        {
            "location": "/user/config/#traducciones", 
            "text": "Con Geoladris se pueden configurar las cadenas de texto que aparecen en el visor e incluso escribirlas en diferentes idiomas.  Para ello, basta con crear un directorio  config_dir /messages  que contenga ficheros  messages_ lang .properties .  lang  es el c\u00f3digo del idioma seg\u00fan la nomenclatura  ISO 639-1  de dos letras.  Por ejemplo, para tener traducciones en ingl\u00e9s y espa\u00f1ol habr\u00eda que crear los ficheros  messages_en.properties  y  messages_es.properties . Adem\u00e1s, existe un fichero  messages.properties  (sin el sufijo del idioma) con las traducciones por defecto, que puede ser una copia de los anteriores.  Un ejemplo de fichero de traducciones:  ...\nbase_layers=Capas Base\ncancel=Cancelar\nchart=Gr\\u00e1fico\ndata_source=Fuente de datos\n...  Geoladris reconoce las siguientes traducciones:   title : T\u00edtulo de la p\u00e1gina HTML.   Aparte, cada plugin define sus propias traducciones. Para ver qu\u00e9 traducciones hay disponibles, ver  referencia .  Para a\u00f1adir la posibilidad de cambiar de un idioma a otro en el visor, existe el plugin  language-buttons .", 
            "title": "Traducciones"
        }, 
        {
            "location": "/user/config/#anadir-plugins-despues-de-desplegar", 
            "text": "Una de las funcionalidades m\u00e1s interesantes de Geoladris es el despliegue de funcionalidad en caliente: es posible incluir nuevos plugins sin tener que parar y reiniciar el servidor.  Para esto, basta con copiar el plugin que se desea incluir dentro del directorio  config_dir /plugins ,  configurarlo  en caso necesario y recargar el navegador.  La \u00fanica limitaci\u00f3n es que los plugins han de ser plugins  cliente ; es decir, plugins con c\u00f3digo JavaScript exclusivamente. No es posible desplegar en caliente c\u00f3digo Java con nuevos servicios.", 
            "title": "A\u00f1adir plugins despu\u00e9s de desplegar"
        }, 
        {
            "location": "/user/config/#recursos-estaticos", 
            "text": "En ocasiones es \u00fatil poder servir recursos est\u00e1ticos directamente desde la aplicaci\u00f3n web. Para eso existe el directorio  config_dir /static . Cualquier fichero que se incluya en este directorio se servir\u00e1 autom\u00e1ticamente a trav\u00e9s de la URL  http:// host / app /static/* . Por ejemplo, se podr\u00eda acceder a un fichero  config_dir /static/header.png  a trav\u00e9s de  http://localhost:8080/demo/static/header.png .  Geoladris reconoce algunos fichero est\u00e1ticos espec\u00edficos:   static/img/favicon.png : Favicon de la p\u00e1gina HTML.", 
            "title": "Recursos est\u00e1ticos"
        }, 
        {
            "location": "/user/config/#config_dirportalproperties", 
            "text": "Fichero de propiedades. Cada plugin define sus propiedades (ver  referencia ). Estas propiedades son privadas y nunca abandonan el servidor, por lo que es un buen sitio para almacenar contrase\u00f1as y otra informaci\u00f3n sensible.", 
            "title": "&lt;config_dir&gt;/portal.properties"
        }, 
        {
            "location": "/user/config/#configurar-cache", 
            "text": "La configuraci\u00f3n del portal se obtiene a partir de varios ficheros (configuraci\u00f3n global y espec\u00edfica de usuario) e incluso puede obtenerse de una base de datos o de un servicio externo para  desarrollos personalizados . En cualquier caso, obtenerla requiere un tiempo que puede hacer que el visor se ralentice cada vez.  Para ello, Geoladris proporciona una cach\u00e9 que se puede configurar mediante dos variables:   GEOLADRIS_CONFIG_CACHE :  true / false . Determina si se utiliza la cach\u00e9 o no. Por defecto es  false .  GEOLADRIS_CACHE_TIMEOUT : N\u00famero m\u00e1ximo de segundos que se mantiene la cach\u00e9. Si no se especifica, la cach\u00e9 se mantiene siempre y es necesario reiniciar el servidor para releer la configuraci\u00f3n.   De la misma manera que el directorio de configuraci\u00f3n, estas variables pueden establecerse de varias maneras:   Variable de entorno:  export GEOLADRIS_CONFIG_CACHE=true .  Propiedad Java:  -DGEOLADRIS_CONFIG_CACHE=true .  Par\u00e1metro en  web.xml :        context-param \n         param-name GEOLADRIS_CONFIG_CACHE /param-name \n         param-value true /param-value \n     /context-param", 
            "title": "Configurar cach\u00e9"
        }, 
        {
            "location": "/user/create/", 
            "text": "Para crear una aplicaci\u00f3n propia, Geoladris proporciona un \nscript\n bash (Linux). Este script utiliza un fichero \nbuild.json\n que describe la aplicaci\u00f3n y (opcionalmente) un directorio de configuraci\u00f3n (llamado \nconfig\n junto a \nbuild.json\n) y produce un paquete \n.war\n listo para desplegar.\n\n\nPor ejemplo, se puede crear una aplicaci\u00f3n que contenga \u00fanicamente los plugins \nbase\n y \nlayers-editor\n utilizando este fichero \nbuild.json\n:\n\n\n{\n\n  \nname\n:\n \ndemo\n,\n\n  \nplugins\n:\n \n[\nbase\n,\n \nlayers-editor\n]\n\n\n}\n\n\n\n\n\n\nSi se ejecuta el script sin argumentos:\n\n\n$ geoladris_build.sh\n\n\n\n\n\nobtendremos un fichero \ndemo.war\n listo para desplegar. La versi\u00f3n de los plugins ser\u00e1 la \u00faltima versi\u00f3n estable. Para especificar una versi\u00f3n concreta para todos los plugins de Geoladris se puede utilizar \n-v\n:\n\n\n$ geoladris_build.sh -v \n6\n.0.1\n\n\n\n\n\nTambi\u00e9n se puede utilizar el script para generar una aplicaci\u00f3n con plugins que no son de Geoladris. Basta con a\u00f1adir \ngroupId\n:\nartifactId\n:\nversion\n para los plugins servidor y \ndependency\n:\nversion\n para los plugins cliente. Por ejemplo:\n\n\n{\n\n  \nname\n:\n \ndemo\n,\n\n  \nversion\n:\n \n1.0.0\n,\n\n  \nplugins\n:\n \n[\nbase\n,\n \nlayers-editor\n,\n \n@csgis/ui:1.0.0\n,\n \nde.csgis.geoladris:myplugin:1.0.1\n]\n\n\n}\n\n\n\n\n\n\nPor \u00faltimo, es posible obtener una ayuda con todas las opciones del script y la referencia del fichero \nbuild.json\n con \n-h\n:\n\n\n$ geoladris_build.sh -h", 
            "title": "Creaci\u00f3n de aplicaciones"
        }, 
        {
            "location": "/user/download/", 
            "text": "TODO: Explicar lo que se est\u00e1 descargando\n\n\n\n\nEstable\n\n\nPodr\u00e1 descargar la versi\u00f3n m\u00e1s estable del portal\n\n\nDemo 6.0.1\n\n\nDesarrollo\n\n\nPara descargar la versi\u00f3n en desarrollo\n\n\nDemo Latest\n\n\nVersiones antiguas\n\n\nDemo 5.0.0", 
            "title": "Descargas"
        }, 
        {
            "location": "/user/download/#estable", 
            "text": "Podr\u00e1 descargar la versi\u00f3n m\u00e1s estable del portal  Demo 6.0.1", 
            "title": "Estable"
        }, 
        {
            "location": "/user/download/#desarrollo", 
            "text": "Para descargar la versi\u00f3n en desarrollo  Demo Latest", 
            "title": "Desarrollo"
        }, 
        {
            "location": "/user/download/#versiones-antiguas", 
            "text": "Demo 5.0.0", 
            "title": "Versiones antiguas"
        }, 
        {
            "location": "/dev/quickstart/", 
            "text": "Clonar repos\n\n\nmvn install (mvn generate-resources ejecuta yarn install sin ejecutar tests).\n\n\nEmpaquetar app\n\n\nProbar en Tomcat", 
            "title": "Gu\u00eda r\u00e1pida"
        }, 
        {
            "location": "/dev/source_code/", 
            "text": "Tecnolog\u00edas\n\n\nEn Geoladris utilizamos \nMaven\n para construir nuestros proyectos, tanto el \ncore\n como los plugins. Incluso los plugins que \u00fanicamente tienen parte cliente (CSS y JavaScript) se gestionan a trav\u00e9s de Maven para poder tratarlos conjuntamente; para ello utilizamos el plugin \nfrontend-maven-plugin\n.\n\n\nTanto el core como los plugins con parte servidora utilizan la \nAPI Servlet 3.1\n. Utilizan ficheros \nweb-fragment.xml\n para definir sus servlets, filters y application listeners.\n\n\nEn cuanto a los plugins cliente, todos tienen un fichero \npackage.json\n con sus dependencias. Las dependencias JavaScript las manejamos con \nyarn\n. Como se explica arriba, \nMaven\n se encarga de hacer las llamadas correspondientes a \nyarn\n mediante el \nfrontend-maven-plugin\n.\n\n\nPor \u00faltimo, el c\u00f3digo JavaScript se organiza en m\u00f3dulos de \nRequireJS\n.\n\n\nPatr\u00f3n de dise\u00f1o \nmessage-bus\n\n\n\n\nTODO: Repensar si esto va aqui.\nTODO: Hablar de la secuencia de inicio\n\n\n\n\nEl patr\u00f3n de dise\u00f1o Message Bus permite desacoplar los componentes que forman una aplicaci\u00f3n. En una aplicaci\u00f3n modular, los distintos componentes necesitan interactuar entre s\u00ed. Si el acoplamiento es directo, la aplicaci\u00f3n deja de ser modular ya que aparecen dependencias, con frecuencia rec\u00edprocas, entre los distintos m\u00f3dulos y no es posible realizar cambios a un m\u00f3dulo sin que otros se vean afectados.\n\n\nEn cambio, si los objetos se acoplan a trav\u00e9s de un objeto intermediario (\nMessage Bus\n), casi todas las dependencias desaparecen, dejando s\u00f3lo aquellas que hay entre el \nMessage Bus\n y los distintos m\u00f3dulos.\n\n\nPara visualizar el patr\u00f3n, propondremos un ejemplo, una aplicaci\u00f3n modular que consta de tres componentes con representaci\u00f3n gr\u00e1fica y que est\u00e1n dispuestos de la siguiente manera:\n\n\n\n\nMap: En la parte central habr\u00e1 un mapa.\n\n\nLayerList: En la parte izquierda habr\u00e1 una lista de temas.\n\n\nNewLayer: En la parte superior existir\u00e1 un control que permite a\u00f1adir temas a los otros dos componentes.\n\n\n\n\nUn posible dise\u00f1o de dicha p\u00e1gina consistir\u00eda en un m\u00f3dulo \nLayout\n que maqueta la p\u00e1gina HTML y que inicializa los otros tres objetos. En respuesta a la acci\u00f3n del usuario, el objeto NewLayer mandar\u00eda un mensaje a LayerList y Map para a\u00f1adir el tema en ambos componentes. De la misma manera, LayerList podr\u00eda mandar un mensaje a Map en caso de que se permitiera la eliminaci\u00f3n de capas desde aqu\u00e9l. El siguiente grafo muestra los mensajes que se pasar\u00edan los distintos objetos:\n\n\n\n\nEs posible observar como en el caso de que se quisiera quitar el m\u00f3dulo LayerList, ser\u00eda necesario modificar el objeto Layout as\u00ed como el objeto NewLayer, ya que est\u00e1n directamente acoplados. Sin embargo, con el uso del Message Bus, ser\u00eda posible hacer que los distintos objetos no se referenciaran entre s\u00ed directamente sino a trav\u00e9s del Message Bus:\n\n\n\n\nAs\u00ed, el m\u00f3dulo NewLayer mandar\u00eda un mensaje al Message Bus con los datos de la nueva capa y Map y LayerList s\u00edmplemente escuchar\u00edan el mensaje y reaccionar\u00edan convenientemente. Ser\u00eda trivial quitar de la p\u00e1gina LayerList ya que no hay ninguna referencia directa al mismo (salvo tal vez en Layout).\n\n\nY al contrario: ser\u00eda posible incluir un nuevo m\u00f3dulo, por ejemplo un mapa adicional, y que ambos escuchasen el evento \u201cadd-layer\u201d de forma que se a\u00f1adir\u00edan los temas a ambos mapas.\n\n\nDe esta manera la aplicaci\u00f3n es totalmente modular: es posible reemplazar m\u00f3dulos sin que los otros m\u00f3dulos se vean afectados, se pueden realizar contribuciones bien definidas que s\u00f3lo deben entender los mensajes existentes para poder integrarse en la aplicaci\u00f3n, etc.\n\n\nIntegraci\u00f3n continua\n\n\nGeoladris est\u00e1 configurado en \nTravis\n para su integraci\u00f3n continua.\n\n\nLa configuraci\u00f3n debe garantizar que se pasan todos los tests y que se hace un \nmvn deploy\n de todos los artefactos que componen Geoladris.\n\n\nEl deploy de Maven requiere autenticaci\u00f3n. Para proporcionarla hay un fichero \ndeploy-settings.xml\n en la ra\u00edz del repositorio que utiliza variables de entorno para las credenciales:\n\n\n?xml version=\n1.0\n encoding=\nUTF-8\n?\n\n\nsettings\n\n        \nxmlns=\nhttp://maven.apache.org/SETTINGS/1.0.0\n\n        \nxmlns:xsi=\nhttp://www.w3.org/2001/XMLSchema-instance\n\n        \nxsi:schemaLocation=\nhttp://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\n\n    \nservers\n\n        \nserver\n\n            \nid\ngeoladris-releases\n/id\n\n            \nusername\n${env.GEOLADRIS_DEPLOY_USER}\n/username\n\n            \npassword\n${env.GEOLADRIS_DEPLOY_PASS}\n/password\n\n        \n/server\n\n        \nserver\n\n            \nid\ngeoladris-snapshots\n/id\n\n            \nusername\n${env.GEOLADRIS_DEPLOY_USER}\n/username\n\n            \npassword\n${env.GEOLADRIS_DEPLOY_PASS}\n/password\n\n        \n/server\n\n    \n/servers\n\n\n/settings\n\n\n\n\n\n\nBasta con configurar Maven en el fichero \n.travis.yml\n para que utilice este fichero:\n\n\nafter_success:\n  - mvn deploy -s deploy-settings.xml\n\n\n\n\n\nPor \u00faltimo, hay que configurar las variables de entorno en la interfaz web de Travis.\n\n\nDepurando JavaScript en el navegador\n\n\nPor defecto, se utilizan recursos minificados en el cliente. Los recursos minificados forman parte del \nempaquetado\n.\n\n\nTambi\u00e9n es posible utilizar recursos \nno\n minificados a\u00f1adiendo el par\u00e1metro \ndebug=true\n a la petici\u00f3n HTML. Por ejemplo: http://localhost:8080/demo/?debug=true.\n\n\n\n\nTODO Secuencia de inicio de la aplicaci\u00f3n (customization, \nmodules-loaded\n, \nlayers-loaded\n, etc.).\n\n\n\n\nGit\n\n\nRepositorios\n\n\nA continuaci\u00f3n se detalla la estructura del proyecto.\n\n\nSi uno revisa el repositorio de c\u00f3digo de \nGeoladris\n encontrar\u00e1 4 repositorios:\n\n\n\n\ndoc\n, el repositorio donde se encuentra la documentaci\u00f3n oficial del proyecto\n\n\ncore\n. Proyecto Maven. Se encarga de empaquetar todos los plugins (en tiempo de compilaci\u00f3n) y luego servir sus recursos (en tiempo de ejecuci\u00f3n).\n\n\nplugins\n: Conjunto de plugins con funcionalidad aislada que pueden ser o no incluidos en las aplicaciones de manera independiente (ver \nplugins\n).\n\n\napps\n: Aplicaciones que definen qu\u00e9 plugins utilizan y c\u00f3mo se configuran.\n\n\n\n\nModelo de ramas\n\n\n\n\n\n\nModelo de ramas. Revisar doc:\n\n\nGeoServer\n\n\ngitflow\n\n\ncactus\n\n\n\n\n\n\nActualizar versiones (sem\u00e1ntico) cuando se integra una nueva feature. De esta forma al \npublicar\n ya tenemos la versi\u00f3n que toca.\n\n\nActualizar changelog cuand se hace cualquier cambio. De esta forma al \npublicar\n ya tenemos el changelog listo.", 
            "title": "C\u00f3digo fuente"
        }, 
        {
            "location": "/dev/source_code/#tecnologias", 
            "text": "En Geoladris utilizamos  Maven  para construir nuestros proyectos, tanto el  core  como los plugins. Incluso los plugins que \u00fanicamente tienen parte cliente (CSS y JavaScript) se gestionan a trav\u00e9s de Maven para poder tratarlos conjuntamente; para ello utilizamos el plugin  frontend-maven-plugin .  Tanto el core como los plugins con parte servidora utilizan la  API Servlet 3.1 . Utilizan ficheros  web-fragment.xml  para definir sus servlets, filters y application listeners.  En cuanto a los plugins cliente, todos tienen un fichero  package.json  con sus dependencias. Las dependencias JavaScript las manejamos con  yarn . Como se explica arriba,  Maven  se encarga de hacer las llamadas correspondientes a  yarn  mediante el  frontend-maven-plugin .  Por \u00faltimo, el c\u00f3digo JavaScript se organiza en m\u00f3dulos de  RequireJS .", 
            "title": "Tecnolog\u00edas"
        }, 
        {
            "location": "/dev/source_code/#patron-de-diseno-message-bus", 
            "text": "TODO: Repensar si esto va aqui.\nTODO: Hablar de la secuencia de inicio   El patr\u00f3n de dise\u00f1o Message Bus permite desacoplar los componentes que forman una aplicaci\u00f3n. En una aplicaci\u00f3n modular, los distintos componentes necesitan interactuar entre s\u00ed. Si el acoplamiento es directo, la aplicaci\u00f3n deja de ser modular ya que aparecen dependencias, con frecuencia rec\u00edprocas, entre los distintos m\u00f3dulos y no es posible realizar cambios a un m\u00f3dulo sin que otros se vean afectados.  En cambio, si los objetos se acoplan a trav\u00e9s de un objeto intermediario ( Message Bus ), casi todas las dependencias desaparecen, dejando s\u00f3lo aquellas que hay entre el  Message Bus  y los distintos m\u00f3dulos.  Para visualizar el patr\u00f3n, propondremos un ejemplo, una aplicaci\u00f3n modular que consta de tres componentes con representaci\u00f3n gr\u00e1fica y que est\u00e1n dispuestos de la siguiente manera:   Map: En la parte central habr\u00e1 un mapa.  LayerList: En la parte izquierda habr\u00e1 una lista de temas.  NewLayer: En la parte superior existir\u00e1 un control que permite a\u00f1adir temas a los otros dos componentes.   Un posible dise\u00f1o de dicha p\u00e1gina consistir\u00eda en un m\u00f3dulo  Layout  que maqueta la p\u00e1gina HTML y que inicializa los otros tres objetos. En respuesta a la acci\u00f3n del usuario, el objeto NewLayer mandar\u00eda un mensaje a LayerList y Map para a\u00f1adir el tema en ambos componentes. De la misma manera, LayerList podr\u00eda mandar un mensaje a Map en caso de que se permitiera la eliminaci\u00f3n de capas desde aqu\u00e9l. El siguiente grafo muestra los mensajes que se pasar\u00edan los distintos objetos:   Es posible observar como en el caso de que se quisiera quitar el m\u00f3dulo LayerList, ser\u00eda necesario modificar el objeto Layout as\u00ed como el objeto NewLayer, ya que est\u00e1n directamente acoplados. Sin embargo, con el uso del Message Bus, ser\u00eda posible hacer que los distintos objetos no se referenciaran entre s\u00ed directamente sino a trav\u00e9s del Message Bus:   As\u00ed, el m\u00f3dulo NewLayer mandar\u00eda un mensaje al Message Bus con los datos de la nueva capa y Map y LayerList s\u00edmplemente escuchar\u00edan el mensaje y reaccionar\u00edan convenientemente. Ser\u00eda trivial quitar de la p\u00e1gina LayerList ya que no hay ninguna referencia directa al mismo (salvo tal vez en Layout).  Y al contrario: ser\u00eda posible incluir un nuevo m\u00f3dulo, por ejemplo un mapa adicional, y que ambos escuchasen el evento \u201cadd-layer\u201d de forma que se a\u00f1adir\u00edan los temas a ambos mapas.  De esta manera la aplicaci\u00f3n es totalmente modular: es posible reemplazar m\u00f3dulos sin que los otros m\u00f3dulos se vean afectados, se pueden realizar contribuciones bien definidas que s\u00f3lo deben entender los mensajes existentes para poder integrarse en la aplicaci\u00f3n, etc.", 
            "title": "Patr\u00f3n de dise\u00f1o message-bus"
        }, 
        {
            "location": "/dev/source_code/#integracion-continua", 
            "text": "Geoladris est\u00e1 configurado en  Travis  para su integraci\u00f3n continua.  La configuraci\u00f3n debe garantizar que se pasan todos los tests y que se hace un  mvn deploy  de todos los artefactos que componen Geoladris.  El deploy de Maven requiere autenticaci\u00f3n. Para proporcionarla hay un fichero  deploy-settings.xml  en la ra\u00edz del repositorio que utiliza variables de entorno para las credenciales:  ?xml version= 1.0  encoding= UTF-8 ?  settings \n         xmlns= http://maven.apache.org/SETTINGS/1.0.0 \n         xmlns:xsi= http://www.w3.org/2001/XMLSchema-instance \n         xsi:schemaLocation= http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd \n     servers \n         server \n             id geoladris-releases /id \n             username ${env.GEOLADRIS_DEPLOY_USER} /username \n             password ${env.GEOLADRIS_DEPLOY_PASS} /password \n         /server \n         server \n             id geoladris-snapshots /id \n             username ${env.GEOLADRIS_DEPLOY_USER} /username \n             password ${env.GEOLADRIS_DEPLOY_PASS} /password \n         /server \n     /servers  /settings   Basta con configurar Maven en el fichero  .travis.yml  para que utilice este fichero:  after_success:\n  - mvn deploy -s deploy-settings.xml  Por \u00faltimo, hay que configurar las variables de entorno en la interfaz web de Travis.", 
            "title": "Integraci\u00f3n continua"
        }, 
        {
            "location": "/dev/source_code/#depurando-javascript-en-el-navegador", 
            "text": "Por defecto, se utilizan recursos minificados en el cliente. Los recursos minificados forman parte del  empaquetado .  Tambi\u00e9n es posible utilizar recursos  no  minificados a\u00f1adiendo el par\u00e1metro  debug=true  a la petici\u00f3n HTML. Por ejemplo: http://localhost:8080/demo/?debug=true.   TODO Secuencia de inicio de la aplicaci\u00f3n (customization,  modules-loaded ,  layers-loaded , etc.).", 
            "title": "Depurando JavaScript en el navegador"
        }, 
        {
            "location": "/dev/source_code/#git", 
            "text": "", 
            "title": "Git"
        }, 
        {
            "location": "/dev/source_code/#repositorios", 
            "text": "A continuaci\u00f3n se detalla la estructura del proyecto.  Si uno revisa el repositorio de c\u00f3digo de  Geoladris  encontrar\u00e1 4 repositorios:   doc , el repositorio donde se encuentra la documentaci\u00f3n oficial del proyecto  core . Proyecto Maven. Se encarga de empaquetar todos los plugins (en tiempo de compilaci\u00f3n) y luego servir sus recursos (en tiempo de ejecuci\u00f3n).  plugins : Conjunto de plugins con funcionalidad aislada que pueden ser o no incluidos en las aplicaciones de manera independiente (ver  plugins ).  apps : Aplicaciones que definen qu\u00e9 plugins utilizan y c\u00f3mo se configuran.", 
            "title": "Repositorios"
        }, 
        {
            "location": "/dev/source_code/#modelo-de-ramas", 
            "text": "Modelo de ramas. Revisar doc:  GeoServer  gitflow  cactus    Actualizar versiones (sem\u00e1ntico) cuando se integra una nueva feature. De esta forma al  publicar  ya tenemos la versi\u00f3n que toca.  Actualizar changelog cuand se hace cualquier cambio. De esta forma al  publicar  ya tenemos el changelog listo.", 
            "title": "Modelo de ramas"
        }, 
        {
            "location": "/dev/plugins/", 
            "text": "Descripci\u00f3n\n\n\nLas aplicaciones Geoladris utilizan una arquitectura cliente/servidor. El servidor utiliza la API Servlet mientras que el cliente utiliza HTML+CSS+Javascript.\n\n\nPodemos encontrar dos tipos b\u00e1sicos de plugins: servidor y cliente.\n\n\nServidor\n\n\nUn plugin servidor es un proyecto Java que aprovecha la \nAPI Servlet 3.1\n en el servidor. Es suficiente tener un paquete \n.jar\n en el \nclasspath\n que contenga un fichero \nweb-fragment.xml\n con los \nservlets\n, filtros, etc. a utilizar por el plugin.\n\n\nCliente\n\n\nUn plugin cliente es un directorio que contiene:\n\n\n\n\nsrc\n: Subdirectorio con m\u00f3dulos RequireJS (\n.js\n) y/o estilos (\n.css\n).\n\n\ncss\n: Subdirectorio con estilos (\n.css\n) que tiene preferencia (se aplican despu\u00e9s) con respecto a \nsrc\n.\n\n\njslib\n: \nDeprecado\n. Subdirectorio con librer\u00edas y estilos externos que \nno\n se pueden gestionar con \nnpm\n.\n\n\n\n\ngeoladris.json\n. Descriptor de plugin. Contiene un objeto JSON con:\n\n\n\n\ninstallInRoot\n: Indica si los m\u00f3dulos RequireJS se instalar\u00e1n en la ra\u00edz de la \nbaseURL\n de RequireJS o dentro de un directorio con el nombre del plugin. Por defecto es \nfalse\n.\nHay que tener en cuenta que el lugar donde se instalen los m\u00f3dulos afecta a la manera en la que otros m\u00f3dulos los referencian. Por ejemplo, un m\u00f3dulo llamado \nmi_modulo\n en un plugin \nmi_plugin\n se referenciar\u00e1 como \nmi_modulo\n si se instala en la ra\u00edz (\ninstallInRoot : true\n) y como  \nmi_plugin/mi_modulo\n en caso contrario (o como \n./mi_modulo\n cuando se referencia por otros m\u00f3dulos del mismo plugin).\n\n\n\n\ndefault-conf\n: Configuraci\u00f3n para los m\u00f3dulos RequireJS. Es un objeto donde los nombres de las propiedades son los nombres de los m\u00f3dulos a configurar y los valores la configuraci\u00f3n a pasarles a dichos m\u00f3dulos. En este fichero es suficiente con especificar \u00fanicamente el nombre del m\u00f3dulo (sin el prefijo del \nplugin\n) independientemente del valor de \ninstallInRoot\n.\n\n\nLa configuraci\u00f3n se puede obtener en el m\u00f3dulo con la pseudodependencia \nmodule\n:\n\n\ndefine\n([\n \nmodule\n \n],\n \nfunction\n(\nmodule\n)\n \n{\n\n  \nvar\n \nconfiguration\n \n=\n \nmodule\n.\nconfig\n();\n\n  \n...\n\n\n});\n\n\n\n\n\n\n\n\n\n\nrequirejs\n: Objeto con configuraci\u00f3n de RequireJS. \u00danicamente tiene en cuenta \npaths\n y \nshim\n. \npaths\n \u00fanicamente deber\u00eda incluir rutas a \nnode_modules\n o \njslib\n (deprecado).\n\n\n\n\ncss\n: Array con las rutas a los estilos de librer\u00edas externas a incluir (\nnode_modules\n o \njslib\n).\n\n\n\n\n\n\n\n\npackage.json\n.\n\n\n\n\n\n\nAdicionalmente puede tener otros recursos propios de cualquier proyecto JavaScript (\nkarma.conf.js\n, \ntest\n, \nyarn.lock\n, ...).\n\n\nTraducciones\n\n\n\n\nTODO: Depender del m\u00f3dulo \ni18n\n y utilizar cadenas de \nmessages.properties\n.\n\n\n\n\nH\u00edbridos\n\n\nProyectos que contienen ambos tipos de recurso (Java y JavaScript).\n\n\nPara incluir \nrecursos\n correctamente en el .jar.\n\n\nPara empaquetar recursos correctamente en el \npackage.json\n.\n\n\nNOTA\n: Es importante mencionar que los plugins h\u00edbridos se consideran una mala pr\u00e1ctica, ya que acoplan la funcionalidad de cliente y servidor, mezclando todos los recursos y haciendo m\u00e1s dif\u00edcil trabajar con el plugin.\n\n\nPlugins oficiales\n\n\nEn el \nrepositorio\n de Geoladris encontramos todo tipo de plugins, tanto servidor como cliente o h\u00edbridos.\n\n\nLos plugins servidor son proyectos Maven con un \npom.xml\n donde se pueden ejecutar los comandos Maven normalmente (\nmvn clean\n, \nmvn package\n, etc.).\n\n\nLos plugins cliente, adem\u00e1s de los subdirectorios mencionados arriba, contienen los siguientes recursos:\n\n\n\n\ntest\n: Directorio con los ficheros de test. Se utiliza \nJasmine\n como framework de testeo.\n\n\nkarma.conf.js\n: Configuraci\u00f3n para la ejecuci\u00f3n de los tests. Se utiliza \nKarma\n como motor de testeo. Los tests se ejecutan con \nyarn run test\n (o \nyarn run testd\n para depurar).\n\n\nyarn.lock\n: Las dependencias son manejadas con \nyarn\n. Se considera una \nbuena pr\u00e1ctica\n incluir este fichero en el repositorio.\n\n\npom.xml\n: Los plugins cliente tambi\u00e9n se gestionan con Maven (gracias al plugin Maven \nfrontend-maven-plugin\n) de forma que se pueden ejecutar todos los tests, tanto servidor como cliente, con \nmvn test\n.\n\n\n\n\nConfigurar la aplicaci\u00f3n mediante programaci\u00f3n\n\n\nEn ocasiones la configuraci\u00f3n de un plugin depende de un valor de la base de datos o, en general, de aspectos que se tienen que comprobar por programaci\u00f3n. \u00bfDe qu\u00e9 manera es posible hacer llegar estos valores a un elemento de la interfaz de usuario? La soluci\u00f3n son los proveedores de configuraci\u00f3n.\n\n\nLos proveedores de configuraci\u00f3n son instancias que implementan la interfaz \norg.geoladris.config.PluginConfigProvider\n que permiten a\u00f1adir elementos a la configuraci\u00f3n de los m\u00f3dulos de la misma manera que se har\u00eda manualmente modificando el fichero \npublic-conf.json\n.\n\n\nPara que la instancia contribuya a la configuraci\u00f3n hay que registrarla en la instancia \nConfig\n, por lo que normalmente se registrar\u00e1 en un \nServletContextListener\n con un c\u00f3digo similar al siguiente:\n\n\nServletContext\n \nservletContext\n \n=\n \nsce\n.\ngetServletContext\n();\n\n\nConfig\n \nconfig\n \n=\n \n(\nConfig\n)\n \nservletContext\n.\ngetAttribute\n(\nGeoladris\n.\nATTR_CONFIG\n);\n\n\nconfig\n.\naddPluginConfigProvider\n(\nnew\n \nMiConfigProvider\n());", 
            "title": "Plugins"
        }, 
        {
            "location": "/dev/plugins/#descripcion", 
            "text": "Las aplicaciones Geoladris utilizan una arquitectura cliente/servidor. El servidor utiliza la API Servlet mientras que el cliente utiliza HTML+CSS+Javascript.  Podemos encontrar dos tipos b\u00e1sicos de plugins: servidor y cliente.", 
            "title": "Descripci\u00f3n"
        }, 
        {
            "location": "/dev/plugins/#servidor", 
            "text": "Un plugin servidor es un proyecto Java que aprovecha la  API Servlet 3.1  en el servidor. Es suficiente tener un paquete  .jar  en el  classpath  que contenga un fichero  web-fragment.xml  con los  servlets , filtros, etc. a utilizar por el plugin.", 
            "title": "Servidor"
        }, 
        {
            "location": "/dev/plugins/#cliente", 
            "text": "Un plugin cliente es un directorio que contiene:   src : Subdirectorio con m\u00f3dulos RequireJS ( .js ) y/o estilos ( .css ).  css : Subdirectorio con estilos ( .css ) que tiene preferencia (se aplican despu\u00e9s) con respecto a  src .  jslib :  Deprecado . Subdirectorio con librer\u00edas y estilos externos que  no  se pueden gestionar con  npm .   geoladris.json . Descriptor de plugin. Contiene un objeto JSON con:   installInRoot : Indica si los m\u00f3dulos RequireJS se instalar\u00e1n en la ra\u00edz de la  baseURL  de RequireJS o dentro de un directorio con el nombre del plugin. Por defecto es  false .\nHay que tener en cuenta que el lugar donde se instalen los m\u00f3dulos afecta a la manera en la que otros m\u00f3dulos los referencian. Por ejemplo, un m\u00f3dulo llamado  mi_modulo  en un plugin  mi_plugin  se referenciar\u00e1 como  mi_modulo  si se instala en la ra\u00edz ( installInRoot : true ) y como   mi_plugin/mi_modulo  en caso contrario (o como  ./mi_modulo  cuando se referencia por otros m\u00f3dulos del mismo plugin).   default-conf : Configuraci\u00f3n para los m\u00f3dulos RequireJS. Es un objeto donde los nombres de las propiedades son los nombres de los m\u00f3dulos a configurar y los valores la configuraci\u00f3n a pasarles a dichos m\u00f3dulos. En este fichero es suficiente con especificar \u00fanicamente el nombre del m\u00f3dulo (sin el prefijo del  plugin ) independientemente del valor de  installInRoot .  La configuraci\u00f3n se puede obtener en el m\u00f3dulo con la pseudodependencia  module :  define ([   module   ],   function ( module )   { \n   var   configuration   =   module . config (); \n   ...  });     requirejs : Objeto con configuraci\u00f3n de RequireJS. \u00danicamente tiene en cuenta  paths  y  shim .  paths  \u00fanicamente deber\u00eda incluir rutas a  node_modules  o  jslib  (deprecado).   css : Array con las rutas a los estilos de librer\u00edas externas a incluir ( node_modules  o  jslib ).     package.json .    Adicionalmente puede tener otros recursos propios de cualquier proyecto JavaScript ( karma.conf.js ,  test ,  yarn.lock , ...).", 
            "title": "Cliente"
        }, 
        {
            "location": "/dev/plugins/#traducciones", 
            "text": "TODO: Depender del m\u00f3dulo  i18n  y utilizar cadenas de  messages.properties .", 
            "title": "Traducciones"
        }, 
        {
            "location": "/dev/plugins/#hibridos", 
            "text": "Proyectos que contienen ambos tipos de recurso (Java y JavaScript).  Para incluir  recursos  correctamente en el .jar.  Para empaquetar recursos correctamente en el  package.json .  NOTA : Es importante mencionar que los plugins h\u00edbridos se consideran una mala pr\u00e1ctica, ya que acoplan la funcionalidad de cliente y servidor, mezclando todos los recursos y haciendo m\u00e1s dif\u00edcil trabajar con el plugin.", 
            "title": "H\u00edbridos"
        }, 
        {
            "location": "/dev/plugins/#plugins-oficiales", 
            "text": "En el  repositorio  de Geoladris encontramos todo tipo de plugins, tanto servidor como cliente o h\u00edbridos.  Los plugins servidor son proyectos Maven con un  pom.xml  donde se pueden ejecutar los comandos Maven normalmente ( mvn clean ,  mvn package , etc.).  Los plugins cliente, adem\u00e1s de los subdirectorios mencionados arriba, contienen los siguientes recursos:   test : Directorio con los ficheros de test. Se utiliza  Jasmine  como framework de testeo.  karma.conf.js : Configuraci\u00f3n para la ejecuci\u00f3n de los tests. Se utiliza  Karma  como motor de testeo. Los tests se ejecutan con  yarn run test  (o  yarn run testd  para depurar).  yarn.lock : Las dependencias son manejadas con  yarn . Se considera una  buena pr\u00e1ctica  incluir este fichero en el repositorio.  pom.xml : Los plugins cliente tambi\u00e9n se gestionan con Maven (gracias al plugin Maven  frontend-maven-plugin ) de forma que se pueden ejecutar todos los tests, tanto servidor como cliente, con  mvn test .", 
            "title": "Plugins oficiales"
        }, 
        {
            "location": "/dev/plugins/#configurar-la-aplicacion-mediante-programacion", 
            "text": "En ocasiones la configuraci\u00f3n de un plugin depende de un valor de la base de datos o, en general, de aspectos que se tienen que comprobar por programaci\u00f3n. \u00bfDe qu\u00e9 manera es posible hacer llegar estos valores a un elemento de la interfaz de usuario? La soluci\u00f3n son los proveedores de configuraci\u00f3n.  Los proveedores de configuraci\u00f3n son instancias que implementan la interfaz  org.geoladris.config.PluginConfigProvider  que permiten a\u00f1adir elementos a la configuraci\u00f3n de los m\u00f3dulos de la misma manera que se har\u00eda manualmente modificando el fichero  public-conf.json .  Para que la instancia contribuya a la configuraci\u00f3n hay que registrarla en la instancia  Config , por lo que normalmente se registrar\u00e1 en un  ServletContextListener  con un c\u00f3digo similar al siguiente:  ServletContext   servletContext   =   sce . getServletContext ();  Config   config   =   ( Config )   servletContext . getAttribute ( Geoladris . ATTR_CONFIG );  config . addPluginConfigProvider ( new   MiConfigProvider ());", 
            "title": "Configurar la aplicaci\u00f3n mediante programaci\u00f3n"
        }, 
        {
            "location": "/dev/apps/", 
            "text": "TODO menci\u00f3n a \ngeoladris_build.sh\n.\n\n\n\n\nEstructura de una aplicaci\u00f3n\n\n\n\n\nTODO proyecto Java, pom.xml, web.xml, etc.\n\n\n\n\nDefinir dependencias\n\n\n\n\nTODO en pom.xml y package.json\n\n\n\n\nEmpaquetar\n\n\nEl \ncore\n de Geoladris se encarga de empaquetar todos los recursos tanto Java (servlets, filtros, listeners,...) como JavaScript (m\u00f3dulos, estilos, dependencias, etc. a \nsrc/main/webapp\n para empaquetarlos dentro del war y servirlos con Tomcat) y minificar los recursos est\u00e1ticos.\n\n\nLos \nplugins JavaScript\n se gestionan con herramientas de JavaScript. El flujo de trabajo es:\n\n\n\n\nIncluir plugins en \ndependencies\n dentro del \npackage.json\n.\n\n\nyarn install\n para gestionar todas las dependencias.\n\n\ngl-build-app.js\n. Es un script propio de \ncore\n que:\n\n\nCopia los plugins definidos en la opci\u00f3n \ndependencies\n del \npackage.json\n dentro de \nsrc/main/webapp\n; tambi\u00e9n copia las dependencias (\n*.js\n y \n*.css\n).\n\n\nGenera el fichero \napp.min.css\n con  todos los estilos (de menos a m\u00e1s prioridad: dependencias, \nsrc\n y \ncss\n).\n\n\nGenera el fichero \nmain.js\n de RequireJS que se sirve en la aplicaci\u00f3n final (solo con \ndebug=true\n).\n\n\nGenera el fichero \nindex.html\n.\n\n\nGenera un fichero \nbuild.js\n para minificar m\u00f3dulos RequireJS, teniendo en cuenta la configuraci\u00f3n de \nrequirejs\n en los \ngeoladris.json\n de los plugins.\n\n\nr.js -o build.js\n. Genera \nsrc/main/webapp/app.min.js\n con la minificaci\u00f3n de los recursos JavaScript a partir del \nbuild.js\n generado por \ngl-build-app.js\n.\n\n\n\n\nLos \nplugins Java\n se gestionan simplemente incluy\u00e9ndolos como dependencias en el \npom.xml\n.\n\n\nEl build de plugins JavaScript se incluye como parte del \nbuild\n de Maven con un plugin. Por tanto, basta con hacer \nmvn package\n para empaquetarlo todo.\n\n\nServir\n\n\nUna vez desplegada la aplicaci\u00f3n \n.war\n en Tomcat, el \ncore\n de Geoladris tambi\u00e9n se encarga de servir todos los recursos est\u00e1ticos (plugins empaquetados en el war, plugins en el directorio de configuraci\u00f3n, ficheros est\u00e1ticos en el directorio de configuraci\u00f3n,...) y din\u00e1micos (\nconfig.js\n, ...). Son los siguientes:\n\n\nRecursos est\u00e1ticos gestionados directamente por Tomcat (por estar en \nsrc/main/webapp\n):\n\n\n\n\nsrc/main/webapp/app.min.js\n\n\nsrc/main/webapp/app.min.css\n\n\nsrc/main/webapp/index.html\n\n\nsrc/main/webapp/*.js\n\n\nsrc/main/webapp/geoladris/*\n\n\n\n\nRecursos est\u00e1ticos fuera del \nwar\n. Configurado autom\u00e1ticamente para Tomcat 8.x y 9.x:\n\n\n\n\nconfig_dir\n/plugins/\n. Bajo el path \n/plugins/*\n.\n\n\nconfig_dir\n/static/\n. Bajo el path \n/static/*\n. Inhabilita \nsrc/main/webapp/static\n.\n\n\n\n\nconfig.js\n (con un servlet), que es din\u00e1mico porque puede depender, por ejemplo, del usuario.", 
            "title": "Aplicaciones"
        }, 
        {
            "location": "/dev/apps/#estructura-de-una-aplicacion", 
            "text": "TODO proyecto Java, pom.xml, web.xml, etc.", 
            "title": "Estructura de una aplicaci\u00f3n"
        }, 
        {
            "location": "/dev/apps/#definir-dependencias", 
            "text": "TODO en pom.xml y package.json", 
            "title": "Definir dependencias"
        }, 
        {
            "location": "/dev/apps/#empaquetar", 
            "text": "El  core  de Geoladris se encarga de empaquetar todos los recursos tanto Java (servlets, filtros, listeners,...) como JavaScript (m\u00f3dulos, estilos, dependencias, etc. a  src/main/webapp  para empaquetarlos dentro del war y servirlos con Tomcat) y minificar los recursos est\u00e1ticos.  Los  plugins JavaScript  se gestionan con herramientas de JavaScript. El flujo de trabajo es:   Incluir plugins en  dependencies  dentro del  package.json .  yarn install  para gestionar todas las dependencias.  gl-build-app.js . Es un script propio de  core  que:  Copia los plugins definidos en la opci\u00f3n  dependencies  del  package.json  dentro de  src/main/webapp ; tambi\u00e9n copia las dependencias ( *.js  y  *.css ).  Genera el fichero  app.min.css  con  todos los estilos (de menos a m\u00e1s prioridad: dependencias,  src  y  css ).  Genera el fichero  main.js  de RequireJS que se sirve en la aplicaci\u00f3n final (solo con  debug=true ).  Genera el fichero  index.html .  Genera un fichero  build.js  para minificar m\u00f3dulos RequireJS, teniendo en cuenta la configuraci\u00f3n de  requirejs  en los  geoladris.json  de los plugins.  r.js -o build.js . Genera  src/main/webapp/app.min.js  con la minificaci\u00f3n de los recursos JavaScript a partir del  build.js  generado por  gl-build-app.js .   Los  plugins Java  se gestionan simplemente incluy\u00e9ndolos como dependencias en el  pom.xml .  El build de plugins JavaScript se incluye como parte del  build  de Maven con un plugin. Por tanto, basta con hacer  mvn package  para empaquetarlo todo.", 
            "title": "Empaquetar"
        }, 
        {
            "location": "/dev/apps/#servir", 
            "text": "Una vez desplegada la aplicaci\u00f3n  .war  en Tomcat, el  core  de Geoladris tambi\u00e9n se encarga de servir todos los recursos est\u00e1ticos (plugins empaquetados en el war, plugins en el directorio de configuraci\u00f3n, ficheros est\u00e1ticos en el directorio de configuraci\u00f3n,...) y din\u00e1micos ( config.js , ...). Son los siguientes:  Recursos est\u00e1ticos gestionados directamente por Tomcat (por estar en  src/main/webapp ):   src/main/webapp/app.min.js  src/main/webapp/app.min.css  src/main/webapp/index.html  src/main/webapp/*.js  src/main/webapp/geoladris/*   Recursos est\u00e1ticos fuera del  war . Configurado autom\u00e1ticamente para Tomcat 8.x y 9.x:   config_dir /plugins/ . Bajo el path  /plugins/* .  config_dir /static/ . Bajo el path  /static/* . Inhabilita  src/main/webapp/static .   config.js  (con un servlet), que es din\u00e1mico porque puede depender, por ejemplo, del usuario.", 
            "title": "Servir"
        }, 
        {
            "location": "/dev/migrate/", 
            "text": "Migrando a la versi\u00f3n 6.x\n\n\nA partir de la versi\u00f3n 6.0.0, todos los plugins deben contenterse en un subdirectorio con el nombre del plugin, dentro de \ngeoladris\n o \nplugins\n (en funci\u00f3n de su empaquetado; ver \nplugins\n).\n\n\nPlugins empaquetados como \n.jar\n\n\nAnteriormente, los recursos de un plugin empaquetado como jar estaban directamente dentro de \ngeoladris\n, por lo que un plugin de este tipo que funciona con la versi\u00f3n 5.0.0 no ser\u00e1 v\u00e1lido para la versi\u00f3n 6.0.0.\n\n\nPara migrar a la versi\u00f3n 6.x bastar\u00e1 con crear un subdirectorio con el nombre de nuestro plugin dentro de \ngeoladris\n y mover todos los recursos ah\u00ed.\n\n\nPor ejemplo, para un plugin empaquetado como jar, en la versi\u00f3n 5.0.0 tendr\u00edamos algo como esto:\n\n\n\n\nque deber\u00edamos transformar a:\n\n\n\n\nModuleConfigurationProviders\n\n\nEn el caso de que se hayan desarrollado \nModuleConfigurationProvider\n propios, estos deben a\u00f1adirse a la aplicaci\u00f3n de manera distinta. Anteriormente se a\u00f1ad\u00edan a un objeto \nConfig\n en un \nServletContextListener\n:\n\n\n@Override\n\n\npublic\n \nvoid\n \ncontextInitialized\n(\nServletContextEvent\n \nsce\n)\n \n{\n\n  \nConfig\n \nconfig\n \n=\n \n(\nConfig\n)\n\n    \nsce\n.\ngetServletContext\n().\ngetAttribute\n(\nAppContextListener\n.\nATTR_CONFIG\n);\n\n  \nconfig\n.\naddModuleConfigurationProvider\n(\nnew\n \nLayersModuleConfigurationProvider\n());\n\n\n}\n\n\n\n\n\n\nAhora se a\u00f1aden directamente a una lista en el \nServletContext\n:\n\n\n@SuppressWarnings\n(\nunchecked\n)\n\n\n@Override\n\n\npublic\n \nvoid\n \ncontextInitialized\n(\nServletContextEvent\n \nsce\n)\n \n{\n\n  \nList\nModuleConfigurationProvider\n \nproviders\n \n=\n \n(\nList\nModuleConfigurationProvider\n)\n\n    \nsce\n.\ngetServletContext\n().\ngetAttribute\n(\nGeoladris\n.\nATTR_CONFIG_PROVIDERS\n);\n\n  \nproviders\n.\nadd\n(\nnew\n \nLayersModuleConfigurationProvider\n());\n\n\n}\n\n\n\n\n\n\nPlugins empaquetados en el directorio de configuraci\u00f3n\n\n\nEn este caso, los plugins ya estaban dentro de un subdirectorio de \nplugins\n en la versi\u00f3n 5.x, por lo que funcionar\u00e1n en la versi\u00f3n 6.x sin ning\u00fan cambio.\n\n\nMigrando a la versi\u00f3n 7.x\n\n\nPlugins\n\n\nLa estructura de los plugins cliente ha cambiado completamente (ver \nplugins\n). Para la migraci\u00f3n habr\u00eda que:\n\n\n\n\nMover m\u00f3dulos de \nsrc/main/resources/geoladris/\nplugin\n/modules\n a \nsrc\n.\n\n\nGestionar las dependencias con \npackage.json\n/\nyarn\n.\n\n\n\n\nTodav\u00eda es posible gestionar las dependencias de manera manual (en \njslib\n en lugar de \nsrc/main/resources/geoladris/\nplugin\n/jslib\n), aunque en un futuro esta opci\u00f3n desaparecer\u00e1.\n\n\nAplicaciones\n\n\nLas dependencias de las aplicaciones se gestionan ahora conjuntamente con Maven y \nyarn\n (ver \naplicaciones\n), por lo que su definici\u00f3n y empaquetado cambian.\n\n\n\n\nIncluir dependencias cliente en \npackage.json\n.\n\n\nIncluir dependencias servidor en \npom.xml\n.\n\n\nIncluir dependencias h\u00edbridas (cliente y servidor juntos) en ambos ficheros.\n\n\nConfigurar el plugin \ncom.github.eirslett:frontend-maven-plugin\n en \npom.xml\n (ver \nejemplo\n).\n\n\n\n\nUna vez hecho esto, basta con ejecutar \nmvn package\n para minificar y empaquetar todos los recursos (cliente y servidor) en un \u00fanico paquete \n.war\n.", 
            "title": "Migraci\u00f3n"
        }, 
        {
            "location": "/dev/migrate/#migrando-a-la-version-6x", 
            "text": "A partir de la versi\u00f3n 6.0.0, todos los plugins deben contenterse en un subdirectorio con el nombre del plugin, dentro de  geoladris  o  plugins  (en funci\u00f3n de su empaquetado; ver  plugins ).", 
            "title": "Migrando a la versi\u00f3n 6.x"
        }, 
        {
            "location": "/dev/migrate/#plugins-empaquetados-como-jar", 
            "text": "Anteriormente, los recursos de un plugin empaquetado como jar estaban directamente dentro de  geoladris , por lo que un plugin de este tipo que funciona con la versi\u00f3n 5.0.0 no ser\u00e1 v\u00e1lido para la versi\u00f3n 6.0.0.  Para migrar a la versi\u00f3n 6.x bastar\u00e1 con crear un subdirectorio con el nombre de nuestro plugin dentro de  geoladris  y mover todos los recursos ah\u00ed.  Por ejemplo, para un plugin empaquetado como jar, en la versi\u00f3n 5.0.0 tendr\u00edamos algo como esto:   que deber\u00edamos transformar a:", 
            "title": "Plugins empaquetados como .jar"
        }, 
        {
            "location": "/dev/migrate/#plugins-empaquetados-en-el-directorio-de-configuracion", 
            "text": "En este caso, los plugins ya estaban dentro de un subdirectorio de  plugins  en la versi\u00f3n 5.x, por lo que funcionar\u00e1n en la versi\u00f3n 6.x sin ning\u00fan cambio.", 
            "title": "Plugins empaquetados en el directorio de configuraci\u00f3n"
        }, 
        {
            "location": "/dev/migrate/#migrando-a-la-version-7x", 
            "text": "", 
            "title": "Migrando a la versi\u00f3n 7.x"
        }, 
        {
            "location": "/dev/migrate/#plugins", 
            "text": "La estructura de los plugins cliente ha cambiado completamente (ver  plugins ). Para la migraci\u00f3n habr\u00eda que:   Mover m\u00f3dulos de  src/main/resources/geoladris/ plugin /modules  a  src .  Gestionar las dependencias con  package.json / yarn .   Todav\u00eda es posible gestionar las dependencias de manera manual (en  jslib  en lugar de  src/main/resources/geoladris/ plugin /jslib ), aunque en un futuro esta opci\u00f3n desaparecer\u00e1.", 
            "title": "Plugins"
        }, 
        {
            "location": "/dev/migrate/#aplicaciones", 
            "text": "Las dependencias de las aplicaciones se gestionan ahora conjuntamente con Maven y  yarn  (ver  aplicaciones ), por lo que su definici\u00f3n y empaquetado cambian.   Incluir dependencias cliente en  package.json .  Incluir dependencias servidor en  pom.xml .  Incluir dependencias h\u00edbridas (cliente y servidor juntos) en ambos ficheros.  Configurar el plugin  com.github.eirslett:frontend-maven-plugin  en  pom.xml  (ver  ejemplo ).   Una vez hecho esto, basta con ejecutar  mvn package  para minificar y empaquetar todos los recursos (cliente y servidor) en un \u00fanico paquete  .war .", 
            "title": "Aplicaciones"
        }, 
        {
            "location": "/dev/releases/", 
            "text": "TODO Frecuencia de publicaciones\n\n\nTODO Pasos:\n\n\n\n\nReminder a la lista x tiempo antes.\n\n\nCrear la rama release-* en el repo\n\n\nFixes de \u00faltima hora\n\n\n\n\nCuando la rama est\u00e1 lista:\n\n bump versions\n\n Actualizar doc\n\n Crear version en readthedocs para la rama de la doc de la versi\u00f3n\n\n git tag\n\n Mezclar ramas/cherry-pick\n\n Avisar en la lista de correo", 
            "title": "Publicaci\u00f3n"
        }, 
        {
            "location": "/dev/contribute/", 
            "text": "Geoladris existe debido a los esfuerzos de personas como t\u00fa.\n\n\nHay muchas maneras en las que puedes ayudar con el proyecto Geoladris. Geoladris abarca completamente un modelo de desarrollo de c\u00f3digo abierto en la que cualquiera puede participar mediante aportaciones de c\u00f3digo, detecci\u00f3n de errores, traducci\u00f3n, documentaci\u00f3n o lo que se te ocurra.\n\n\nLista de correo\n\n\n\n\nDesarrollo\n\n\n\n\nReportar errores\n\n\n\n\nTODO: Issues y tags en Github\n\n\n\n\nFormateo del c\u00f3digo\n\n\nSe utiliza el \nestilo\n de Google para formatear el c\u00f3digo Java.\n\n\nPara el c\u00f3digo JavaScript se utilizan unas reglas basadas en Airbnb (\nES5\n) con ligeras modificaciones. Es posible encontrar los ficheros \n.eslintrc\n en el repositorio con las definiciones para ejecutar con \neslint\n.\n\n\nContribuir cambios\n\n\nPara incluir correcciones o nuevas funcionalidades, en Geoladris utilizamos \npull requests\n.\n\n\nSoporte\n\n\nGeoladris es software libre, t\u00fa puedes hacer uso de las \ncuatro libertades del software libre\n pero si quieres o necesitas soporte comercial, las organizaciones que se detallan a continuaci\u00f3n han participado activamente en el desarrollo de Geoladris.\n\n\n\n\n\n\n\u00c1nimo, haz que tu organizaci\u00f3n tambi\u00e9n sea part\u00edcipe.", 
            "title": "Contribuir"
        }, 
        {
            "location": "/dev/contribute/#lista-de-correo", 
            "text": "Desarrollo", 
            "title": "Lista de correo"
        }, 
        {
            "location": "/dev/contribute/#reportar-errores", 
            "text": "TODO: Issues y tags en Github", 
            "title": "Reportar errores"
        }, 
        {
            "location": "/dev/contribute/#formateo-del-codigo", 
            "text": "Se utiliza el  estilo  de Google para formatear el c\u00f3digo Java.  Para el c\u00f3digo JavaScript se utilizan unas reglas basadas en Airbnb ( ES5 ) con ligeras modificaciones. Es posible encontrar los ficheros  .eslintrc  en el repositorio con las definiciones para ejecutar con  eslint .", 
            "title": "Formateo del c\u00f3digo"
        }, 
        {
            "location": "/dev/contribute/#contribuir-cambios", 
            "text": "Para incluir correcciones o nuevas funcionalidades, en Geoladris utilizamos  pull requests .", 
            "title": "Contribuir cambios"
        }, 
        {
            "location": "/dev/contribute/#soporte", 
            "text": "Geoladris es software libre, t\u00fa puedes hacer uso de las  cuatro libertades del software libre  pero si quieres o necesitas soporte comercial, las organizaciones que se detallan a continuaci\u00f3n han participado activamente en el desarrollo de Geoladris.    \u00c1nimo, haz que tu organizaci\u00f3n tambi\u00e9n sea part\u00edcipe.", 
            "title": "Soporte"
        }, 
        {
            "location": "/dev/eclipse/", 
            "text": "Configurar el workspace\n\n\nPara importar los proyectos de Geoladris, basta con importarlos como proyectos Maven (\nProject Explorer\n, \nImport \n Import... \n Maven \n Existing Maven Projects\n).\n\n\nPara el caso particular de los plugins, estos contienen directorios \nnode\n y \nnode_modules\n con una gran cantidad de recursos que ralentizan Eclipse. Para ignorar esos directorios podemos ejecutar el siguiente script bash:\n\n\nfor\n i in \n`\nfind geoladris/plugins -name .project\n`\n;\n \ndo\n\n  sed -i \ns#\n/projectDescription\n#\nfilteredResources\nfilter\nid\n`date +%s0000`\n/id\nname\n/name\ntype\n10\n/type\nmatcher\nid\norg.eclipse.ui.ide.multiFilter\n/id\narguments\n1.0-name-matches-false-false-node*\n/arguments\n/matcher\n/filter\n/filteredResources\n/projectDescription\n#g\n \n$i\n;\n\n\ndone\n\n\n\n\n\n\nFormateando el c\u00f3digo\n\n\nPara Java podemos utilizar el \nfichero de estilo\n de Google.\n\n\nPara JavaScript existe un \nfichero de estilo\n propio con algunas de las \nreglas\n de formateo que utiliza el proyecto.\n\n\nPara aplicar los ficheros de estilos en Eclipse basta con descargar el fichero XML correspondiente e importarlo en Eclipse (\nPreferences\n -\n \nlang\n -\n \nCode Style\n -\n \nFormatter\n -\n \nImport...\n).\n\n\nTambi\u00e9n es posible configurar JSHint en Eclipse de forma que muestre avisos para algunos (no todos) los errores de \neslint\n:\n\n\n{\n\n  \nbrowser\n:\n \ntrue\n,\n\n  \njquery\n:\n \ntrue\n,\n\n  \nnode\n:\n \ntrue\n,\n\n  \ncamelcase\n:\n \ntrue\n,\n\n  \nindent\n:\n \n2\n,\n\n  \nlatedef\n:\n \ntrue\n,\n\n  \nmaxlen\n:\n \n100\n,\n\n  \nnewcap\n:\n \ntrue\n,\n\n  \nquotmark\n:\n \nsingle\n,\n\n  \neqeqeq\n:\n \ntrue\n,\n\n  \neqnull\n:\n \ntrue\n,\n\n  \nundef\n:\n \ntrue\n,\n\n  \nunused\n:\n \ntrue\n,\n\n  \neqnull\n:\n \ntrue\n,\n\n  \nglobals\n \n:\n \n{\n\n    \ndefine\n \n:\n \ntrue\n,\n\n    \ndescribe\n \n:\n \ntrue\n,\n\n    \nbeforeEach\n \n:\n \ntrue\n,\n\n    \nexpect\n \n:\n \ntrue\n,\n\n    \nspyOn\n \n:\n \ntrue\n,\n\n    \nit\n \n:\n \ntrue\n\n  \n}\n\n\n}", 
            "title": "Desarrollar con Eclipse"
        }, 
        {
            "location": "/dev/eclipse/#configurar-el-workspace", 
            "text": "Para importar los proyectos de Geoladris, basta con importarlos como proyectos Maven ( Project Explorer ,  Import   Import...   Maven   Existing Maven Projects ).  Para el caso particular de los plugins, estos contienen directorios  node  y  node_modules  con una gran cantidad de recursos que ralentizan Eclipse. Para ignorar esos directorios podemos ejecutar el siguiente script bash:  for  i in  ` find geoladris/plugins -name .project ` ;   do \n  sed -i  s# /projectDescription # filteredResources filter id `date +%s0000` /id name /name type 10 /type matcher id org.eclipse.ui.ide.multiFilter /id arguments 1.0-name-matches-false-false-node* /arguments /matcher /filter /filteredResources /projectDescription #g   $i ;  done", 
            "title": "Configurar el workspace"
        }, 
        {
            "location": "/dev/eclipse/#formateando-el-codigo", 
            "text": "Para Java podemos utilizar el  fichero de estilo  de Google.  Para JavaScript existe un  fichero de estilo  propio con algunas de las  reglas  de formateo que utiliza el proyecto.  Para aplicar los ficheros de estilos en Eclipse basta con descargar el fichero XML correspondiente e importarlo en Eclipse ( Preferences  -   lang  -   Code Style  -   Formatter  -   Import... ).  Tambi\u00e9n es posible configurar JSHint en Eclipse de forma que muestre avisos para algunos (no todos) los errores de  eslint :  { \n   browser :   true , \n   jquery :   true , \n   node :   true , \n   camelcase :   true , \n   indent :   2 , \n   latedef :   true , \n   maxlen :   100 , \n   newcap :   true , \n   quotmark :   single , \n   eqeqeq :   true , \n   eqnull :   true , \n   undef :   true , \n   unused :   true , \n   eqnull :   true , \n   globals   :   { \n     define   :   true , \n     describe   :   true , \n     beforeEach   :   true , \n     expect   :   true , \n     spyOn   :   true , \n     it   :   true \n   }  }", 
            "title": "Formateando el c\u00f3digo"
        }, 
        {
            "location": "/ref/changelog/", 
            "text": "This project follows \nsemantic versioning\n.\n\n\nPlugins - Sin publicar (7.0.0)\n\n\nA\u00f1adido\n\n\n\n\nPosibilidad de especificar API para Google Maps (\n#38\n).\n\n\n\n\nCorregido\n\n\n\n\nCheckboxes de la lista de capas (\nlayer-list.js\n) no respond\u00edan.\n\n\nlegend-panel.js\n lanzaba excepciones .\n\n\n\n\nPlugins - Sin publicar (6.0.3)\n\n\nA\u00f1adido\n\n\n\n\nPosibilidad de especificar API para Google Maps (\n#38\n).\n\n\n\n\nCorregido\n\n\n\n\nCheckboxes de la lista de capas (\nlayer-list.js\n) no respond\u00edan.\n\n\nlegend-panel.js\n lanzaba excepciones .\n\n\n\n\nCore - Sin publicar\n\n\nModificado\n\n\n\n\nEl proceso de empaquetado de aplicaciones ahora se gestiona con Maven y \nyarn\n conjuntamente (ver \naplicaciones\n).\n\n\nLas dependencias de los plugins cliente se gestionan ahora con \nyarn\n.\n\n\nEstructura de los plugins cliente (ver \nplugins\n).\n\n\n\n\nEliminado\n\n\n\n\nVariable de entorno \nGEOLADRIS_MINIFIED\n. Los recursos en cliente se sirven minificados por defecto, con la posibilidad de servirlos sin minificar con el par\u00e1metro \ndebug=true\n.\n\n\n\n\nCore - 6.0.0 [2017-04-21]\n\n\nModificado\n\n\n\n\nLos plugins empaquetados como \n.jar\n pasan a estar contenidos en un subdirectorio dentro de \ngeoladris\n (en lugar de directamente en \ngeoladris\n). As\u00ed, todos los plugins est\u00e1n en subdirectorios, independientemente de su empaquetado (ver \ngu\u00eda de migraci\u00f3n\n).\n\n\nTodos los plugins toman su nombre del subdirectorio en el que est\u00e1n contenidos.\n\n\ninstallInRoot\n por defecto a \nfalse\n para todos los plugins, independientemente del empaquetado; \ncore\n se mantiene con \ninstallInRoot : true\n para que sus m\u00f3dulos se puedan referenciar de manera sencilla desde otros plugins.\n\n\nModuleConfigurationProvider\n a\u00f1adidos a una lista en \nServletContext\n en lugar de a un objeto \nConfig\n (ver \ngu\u00eda de migraci\u00f3n\n).\n\n\n\n\nCorregido\n\n\n\n\nMinificaci\u00f3n no funciona para plugins con \ninstallInRoot : false\n.\n\n\nPeticiones a recursos cualificados devuelven recursos sin cualificar (y viceversa)\n.\n\n\nNullPointerException\n cuando alg\u00fan \nModuleConfigurationProvider\n devuelve configuraci\u00f3n para un plugin no existente.\n\n\nBug con ficheros CSS llamados igual que el directorio que los contiene (\nstyles/styles.css\n, \nmodules/modules.css\n, \ntheme/theme.css\n) en plugins con \ninstallInRoot:false\n.\n\n\n\n\nA\u00f1adido\n\n\n\n\nScript (\ngeoladris_build.sh\n) para generar paquetes \n.war\n a partir de un descriptor \nbuild.json\n y un directorio de configuraci\u00f3n.\n\n\nPosibilidad de obtener la configuraci\u00f3n desde una base de datos, tanto configuraci\u00f3n de plugins (\npublic-conf.json\n) como propiedades (\nportal.properties\n) y mensajes (\nmessages/messages*.properties\n).\n\n\nPosibilidad de a\u00f1adir m\u00f3dulos en subdirectorios\n.\n\n\nDetectar cambios en los directorios de plugins\n.\n\n\nFichero descriptor de plugin (\nplugin\n-conf.json\n) opcional\n.\n\n\nVariable \nGEOLADRIS_CACHE_TIMEOUT\n (en segundos) para limpiar la cach\u00e9 de configuraci\u00f3n. \u00danicamente se tiene en cuenta si la variable \nGEOLADRIS_CONFIG_CACHE\n es \ntrue\n.\n\n\nM\u00e9todo \nPortalRequestConfiguration.getCurrentConfiguration()\n para poder modificar desde un \nModuleConfigurationProvider\n la configuraci\u00f3n en construcci\u00f3n, obtenida de los \nModuleConfigurationProvider\n previos.\n\n\n\n\nCore - 5.0.1 [2016-12-06]\n\n\nCorregido\n\n\n\n\nDevolver \nContent-type\n correcto para im\u00e1genes SVG\n.\n\n\n\n\nCore - 5.0.0 [2016-11-25]\n\n\nCorregido\n\n\n\n\nEspecificar \narrays\n JSON como configuraci\u00f3n de los m\u00f3dulos\n.\n\n\nSoporte para Java 8\n.\n\n\nEnviar al cliente \u00fanicamente las propiedades bien conocidas\n.\n\n\nPosibilidad de tener un directorio de configuraci\u00f3n distinto por aplicaci\u00f3n\n.\n\n\n\n\nA\u00f1adido\n\n\n\n\nNuevo descriptor de aplicaci\u00f3n \npublic-conf.json\n. Permite activar y desactivar plugins. Sustituye a \nplugin-conf.json\n, que se mantiene temporalmente por compatibilidad hacia atr\u00e1s.\n\n\nMezclar la configuraci\u00f3n por defecto de los plugins y no s\u00f3lo de sobreescribirla.\n\n\nEspecificar \nconfiguraci\u00f3n espec\u00edfica de usuario\n.\n\n\nA\u00f1adir plugins (s\u00f3lo parte cliente) en el directorio de configuraci\u00f3n.\n\n\nCualificar los m\u00f3dulos con el nombre del plugin al que pertenecen (\ninstallInRoot:false\n).\n\n\nDirectorio \ntheme\n en los plugins. Contiene ficheros CSS con el estilo de la aplicaci\u00f3n.\n\n\nPar\u00e1metro \ndebug\n que carga los m\u00f3dulos sin minificaci\u00f3n.\n\n\nEspecificar el t\u00edtulo del documento HTML en el fichero \nportal.properties\n.\n\n\n\n\nModificado\n\n\n\n\nEl soporte para el fichero \nlayers.json\n se ha movido al plugin \nbase\n.\n\n\nEl directorio \nnfms\n que contiene los recursos se ha renombrado a \ngeoladris\n.\n\n\n\n\nBugs conocidos\n\n\n\n\nMinificaci\u00f3n no funciona para plugins con installInRoot:false\n.\n\n\nEs posible cargar recursos instalados en la ra\u00edz como si pertenecieran a un plugin inexistente.\n.", 
            "title": "Registro de cambios"
        }, 
        {
            "location": "/ref/changelog/#plugins-sin-publicar-700", 
            "text": "", 
            "title": "Plugins - Sin publicar (7.0.0)"
        }, 
        {
            "location": "/ref/changelog/#anadido", 
            "text": "Posibilidad de especificar API para Google Maps ( #38 ).", 
            "title": "A\u00f1adido"
        }, 
        {
            "location": "/ref/changelog/#corregido", 
            "text": "Checkboxes de la lista de capas ( layer-list.js ) no respond\u00edan.  legend-panel.js  lanzaba excepciones .", 
            "title": "Corregido"
        }, 
        {
            "location": "/ref/changelog/#plugins-sin-publicar-603", 
            "text": "", 
            "title": "Plugins - Sin publicar (6.0.3)"
        }, 
        {
            "location": "/ref/changelog/#anadido_1", 
            "text": "Posibilidad de especificar API para Google Maps ( #38 ).", 
            "title": "A\u00f1adido"
        }, 
        {
            "location": "/ref/changelog/#corregido_1", 
            "text": "Checkboxes de la lista de capas ( layer-list.js ) no respond\u00edan.  legend-panel.js  lanzaba excepciones .", 
            "title": "Corregido"
        }, 
        {
            "location": "/ref/changelog/#core-sin-publicar", 
            "text": "", 
            "title": "Core - Sin publicar"
        }, 
        {
            "location": "/ref/changelog/#modificado", 
            "text": "El proceso de empaquetado de aplicaciones ahora se gestiona con Maven y  yarn  conjuntamente (ver  aplicaciones ).  Las dependencias de los plugins cliente se gestionan ahora con  yarn .  Estructura de los plugins cliente (ver  plugins ).", 
            "title": "Modificado"
        }, 
        {
            "location": "/ref/changelog/#eliminado", 
            "text": "Variable de entorno  GEOLADRIS_MINIFIED . Los recursos en cliente se sirven minificados por defecto, con la posibilidad de servirlos sin minificar con el par\u00e1metro  debug=true .", 
            "title": "Eliminado"
        }, 
        {
            "location": "/ref/changelog/#core-600-2017-04-21", 
            "text": "", 
            "title": "Core - 6.0.0 [2017-04-21]"
        }, 
        {
            "location": "/ref/changelog/#modificado_1", 
            "text": "Los plugins empaquetados como  .jar  pasan a estar contenidos en un subdirectorio dentro de  geoladris  (en lugar de directamente en  geoladris ). As\u00ed, todos los plugins est\u00e1n en subdirectorios, independientemente de su empaquetado (ver  gu\u00eda de migraci\u00f3n ).  Todos los plugins toman su nombre del subdirectorio en el que est\u00e1n contenidos.  installInRoot  por defecto a  false  para todos los plugins, independientemente del empaquetado;  core  se mantiene con  installInRoot : true  para que sus m\u00f3dulos se puedan referenciar de manera sencilla desde otros plugins.  ModuleConfigurationProvider  a\u00f1adidos a una lista en  ServletContext  en lugar de a un objeto  Config  (ver  gu\u00eda de migraci\u00f3n ).", 
            "title": "Modificado"
        }, 
        {
            "location": "/ref/changelog/#corregido_2", 
            "text": "Minificaci\u00f3n no funciona para plugins con  installInRoot : false .  Peticiones a recursos cualificados devuelven recursos sin cualificar (y viceversa) .  NullPointerException  cuando alg\u00fan  ModuleConfigurationProvider  devuelve configuraci\u00f3n para un plugin no existente.  Bug con ficheros CSS llamados igual que el directorio que los contiene ( styles/styles.css ,  modules/modules.css ,  theme/theme.css ) en plugins con  installInRoot:false .", 
            "title": "Corregido"
        }, 
        {
            "location": "/ref/changelog/#anadido_2", 
            "text": "Script ( geoladris_build.sh ) para generar paquetes  .war  a partir de un descriptor  build.json  y un directorio de configuraci\u00f3n.  Posibilidad de obtener la configuraci\u00f3n desde una base de datos, tanto configuraci\u00f3n de plugins ( public-conf.json ) como propiedades ( portal.properties ) y mensajes ( messages/messages*.properties ).  Posibilidad de a\u00f1adir m\u00f3dulos en subdirectorios .  Detectar cambios en los directorios de plugins .  Fichero descriptor de plugin ( plugin -conf.json ) opcional .  Variable  GEOLADRIS_CACHE_TIMEOUT  (en segundos) para limpiar la cach\u00e9 de configuraci\u00f3n. \u00danicamente se tiene en cuenta si la variable  GEOLADRIS_CONFIG_CACHE  es  true .  M\u00e9todo  PortalRequestConfiguration.getCurrentConfiguration()  para poder modificar desde un  ModuleConfigurationProvider  la configuraci\u00f3n en construcci\u00f3n, obtenida de los  ModuleConfigurationProvider  previos.", 
            "title": "A\u00f1adido"
        }, 
        {
            "location": "/ref/changelog/#core-501-2016-12-06", 
            "text": "", 
            "title": "Core - 5.0.1 [2016-12-06]"
        }, 
        {
            "location": "/ref/changelog/#corregido_3", 
            "text": "Devolver  Content-type  correcto para im\u00e1genes SVG .", 
            "title": "Corregido"
        }, 
        {
            "location": "/ref/changelog/#core-500-2016-11-25", 
            "text": "", 
            "title": "Core - 5.0.0 [2016-11-25]"
        }, 
        {
            "location": "/ref/changelog/#corregido_4", 
            "text": "Especificar  arrays  JSON como configuraci\u00f3n de los m\u00f3dulos .  Soporte para Java 8 .  Enviar al cliente \u00fanicamente las propiedades bien conocidas .  Posibilidad de tener un directorio de configuraci\u00f3n distinto por aplicaci\u00f3n .", 
            "title": "Corregido"
        }, 
        {
            "location": "/ref/changelog/#anadido_3", 
            "text": "Nuevo descriptor de aplicaci\u00f3n  public-conf.json . Permite activar y desactivar plugins. Sustituye a  plugin-conf.json , que se mantiene temporalmente por compatibilidad hacia atr\u00e1s.  Mezclar la configuraci\u00f3n por defecto de los plugins y no s\u00f3lo de sobreescribirla.  Especificar  configuraci\u00f3n espec\u00edfica de usuario .  A\u00f1adir plugins (s\u00f3lo parte cliente) en el directorio de configuraci\u00f3n.  Cualificar los m\u00f3dulos con el nombre del plugin al que pertenecen ( installInRoot:false ).  Directorio  theme  en los plugins. Contiene ficheros CSS con el estilo de la aplicaci\u00f3n.  Par\u00e1metro  debug  que carga los m\u00f3dulos sin minificaci\u00f3n.  Especificar el t\u00edtulo del documento HTML en el fichero  portal.properties .", 
            "title": "A\u00f1adido"
        }, 
        {
            "location": "/ref/changelog/#modificado_2", 
            "text": "El soporte para el fichero  layers.json  se ha movido al plugin  base .  El directorio  nfms  que contiene los recursos se ha renombrado a  geoladris .", 
            "title": "Modificado"
        }, 
        {
            "location": "/ref/changelog/#bugs-conocidos", 
            "text": "Minificaci\u00f3n no funciona para plugins con installInRoot:false .  Es posible cargar recursos instalados en la ra\u00edz como si pertenecieran a un plugin inexistente. .", 
            "title": "Bugs conocidos"
        }, 
        {
            "location": "/ref/plugins/", 
            "text": "TODO\nDocumentaci\u00f3n de referencia de:\n\n\n\n\nConfiguraci\u00f3n (obtenida con \nmodule.config()\n).\n\n\nTraducciones.\n\n\n\n\n\n\nol2\n\n\nmap.js\n\n\n\n\ngmaps_key\n: Clave de API de Google Maps.\n\n\nhtmlId\n: Identificador del elemento HTML donde colocar el mapa. Por defecto \nmap\n.\n\n\nnumZoomLevels\n: N\u00famero de niveles de zoom del mapa.\n\n\n\n\nlayers.json\n\n\nDefine la estructura de capas del proyecto. Consiste en un elemento JSON con cuatro propiedades::\n\n\n{\n    \ndefault-server\n : \nhttp://snmb.ambiente.gob.ar/\n,\n    \nwmsLayers\n : [],\n    \nportalLayers\n : [],\n    \ngroups\n : []\n}\n\n\n\n\n\n\n\n\n\ndefault-server\n define el servidor que se usar\u00e1 como base en caso de que la URL de las capas no incluyan servidor. Ver atributo \nbaseUrl\n m\u00e1s abajo.\n\n\n\n\n\n\nwmsLayers\n define las capas WMS que tendr\u00e1 el mapa. El orden en el que estas capas aparecen en el array \nwmsLayers\n define el orden de las capas en el dibujado del mapa. Cada capa consistir\u00e1 en un elemento que puede ser de tres tipos. El tipo por defecto es WMS y tiene las siguientes propiedades:\n\n\n\n\nid: Identificado de la capa\n\n\ntype: Tipo de la capa: WMS, Open Street Map, Google maps, respectivamente \"wms\", \"osm\" o \"gmaps\". Por defecto se tomar\u00e1 type:\"wms\"\n\n\nvisible: Si la capa es utilizada para visualizarse en el mapa o s\u00f3lo para otras cosas (petici\u00f3n de informaci\u00f3n, por ejemplo).\n\n\nzIndex: Posici\u00f3n en la pila de dibujado\n\n\nlegend: Nombre del fichero imagen con la leyenda de la capa. Estos ficheros se acceden en static/loc/{lang}/images. Tambi\u00e9n es posible poner la cadena de car\u00e1cteres \"auto\" y el portal intentar\u00e1 obtener la imagen autom\u00e1ticamente de GeoServer usando la petici\u00f3n GetLegendGraphics de WMS.\n\n\nlabel: T\u00edtulo de la leyenda\n\n\nsourceLink: URL del proveedor de los datos\n\n\nsourceLabel: Texto con el que presentar el enlace especificado en sourceLink\n\n\n\n\nEn funci\u00f3n del tipo de la capa se especificar\u00e1n adem\u00e1s otras propiedades\n\n\n\n\n\n\nWMS\n:\n\n\n\n\nbaseUrl: URL del servidor WMS que sirve la capa. Si se especifica una URL sin servidor, por ejemplo \"/diss_geoserver/gwc/service/wms\", se usar\u00e1 \ndefault-server\n.\n\n\nwmsName: Nombre de la capa en el servicio WMS\n\n\nimageFormat: Formato de imagen a utilizar en las llamadas WMS\n\n\nqueryType: Protocolo usado para la herramienta de informaci\u00f3n: \"wfs\" o \"wms\". En caso de ser \"wfs\" los siguientes par\u00e1metros son obligatorios: \nqueryUrl\n, \nquerGeomFieldName\n, \nqueryFieldNames\n, \nqueryFieldAliases\n, \nqueryTimeField\n (en caso de ser una capa temporal). En caso de ser \"wms\" no hay ning\u00fan par\u00e1metro adicional obligatorio, por lo que una capa que quiera usar WMS para la herramienta de informaci\u00f3n puede configurarse s\u00f3lo con: \n\"queryType\":\"wms\"\n. El \u00fanico requisito para capas con \n\"queryType\":\"wms\"\n es que el servidor codifique en EPSG:4326 la geometr\u00eda de la respuesta al GetFeatureInfo, en caso contrario el objeto consultado no se podr\u00e1 localizar en el mapa mediante zoom y resaltado. Si la capa no tiene un par\u00e1metro \nqueryType\n la capa no ser\u00e1 consultable.\n\n\nqueryUrl: URL base a utilizar en la petici\u00f3n de informaci\u00f3n. Base del servidor WMS o WFS a utilizar (seg\u00fan \nqueryType\n). Si no se especifica se toma \nbaseUrl\n.\n\n\nqueryGeomFieldName: Obligatorio en el caso de \n\"queryType\":\"wfs\"\n. El nombre del campo geom\u00e9trico. T\u00edpicamente \"geom\", \"the_geom\", \"geometry\", etc.\n\n\nqueryFieldNames: Obligatorio en el caso de \n\"queryType\":\"wfs\"\n. Nombres de los campos que se quieren obtener en la petici\u00f3n de info.\n\n\nqueryFieldAliases: Obligatorio en el caso de especificar \nqueryFieldNames\n. Aliases de los campos especificados en \nqueryFieldNames\n.\n\n\nqueryTimeFieldName: Obligatorio en el caso de \n\"queryType\":\"wfs\"\n si la capa tiene varias instancias temporales. Sin uso en el caso de \n\"queryType\":\"wms\"\n.\n\n\nqueryHighlightBounds: S\u00f3lo para el caso \n\"queryType\":\"wms\"\n. Si se desea resaltar solo el rect\u00e1ngulo que encuadra la geometr\u00eda de los objetos consultados (\ntrue\n) o toda la geometr\u00eda (\nfalse\n). Por defecto es \nfalse\n. En los casos en los que la geometr\u00eda es muy grande puede ser conveniente ponerlo a \ntrue\n para que el proceso de resaltado sea m\u00e1s r\u00e1pido.\n\n\n\n\nPor ejemplo:\n\n\n\n\n\n\n        {\n            \nwmsLayers\n : [\n                {\n                    \nid\n : \nprovinces\n,\n                    \nbaseUrl\n : \nhttp://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms\n,\n                    \nwmsName\n : \nbosques_umsef_db:limites_provinciales\n,\n                    \nimageFormat\n : \nimage/png8\n,\n                    \nvisible\n : true,\n                    \nsourceLink\n : \n,\n                    \nsourceLabel\n : \n,\n                    \nqueryable\n : true\n                }\n            ],\n            ...\n        }\n\n\n\n\n\n\n\n\n\nOpenStreetMap\n:\n\n\n\n\nosmUrls: lista de las URL de los tiles. Usando ${x}, ${y} y ${z} como variables.\n\n\n\n\nPor ejemplo:\n\n\n\n\n\n\n        {\n            \nwmsLayers\n : [\n                {\n                    \nid\n : \nopenstreetmap\n,\n                    \ntype\n : \nosm\n,\n                    \nosmUrls\n : [\n                        \nhttp://a.tile.openstreetmap.org/\n${\nz\n}\n/\n${\nx\n}\n/\n${\ny\n}\n.png\n,\n                        \nhttp://b.tile.openstreetmap.org/\n${\nz\n}\n/\n${\nx\n}\n/\n${\ny\n}\n.png\n,\n                        \nhttp://c.tile.openstreetmap.org/\n${\nz\n}\n/\n${\nx\n}\n/\n${\ny\n}\n.png\n\n                    ]\n                }           \n            ],\n            ...\n        }\n\n\n\n\n\n\n\n\n\nGoogle\n:\n\n\n\n\ngmaps-type: Tipo de capa Google: ROADMAP, SATELLITE, HYBRID o TERRAIN\n\n\n\n\nPor ejemplo:\n\n\n\n\n\n\n        {\n            \nwmsLayers\n : [\n                {\n                    \nid\n : \ngoogle-maps\n,\n                    \ntype\n : \ngmaps\n,\n                    \ngmaps-type\n : \nSATELLITE\n\n                }\n            ],\n            ...\n        }\n\n\n\n\n\n\n\n\n\nportalLayers\n define las capas que aparecen visibles al usuario. Una \nportalLayer\n puede contener varias \nwmsLayers\n. Cada \nportalLayer\n puede contener los siguientes elementos:\n\n\n\n\nid: id de la capa\n\n\nlabel: Texto con el nombre de la capa a usar en el portal. Si se especifica entre ${ }, se intentar\u00e1 obtener la traducci\u00f3n de los ficheros .properties existentes en el directorio \nmessages\n del  directorio de configuraci\u00f3n del portal.\n\n\ninfoFile: Nombre del fichero HTML con informaci\u00f3n sobre la capa. El fichero se accede en static/loc/{lang}/html. En la interfaz gr\u00e1fica se representa con un bot\u00f3n de informaci\u00f3n al lado del nombre de la capa\n\n\ninfoLink: Url con la informaci\u00f3n sobre la capa. Igual que infoFile pero especificando una ruta absoluta. infoFile tiene preferencia sobre infoLink, por lo que si se define el primero, infoLink se ignorar\u00e1.\n\n\ninlineLegendUrl: URL con una imagen peque\u00f1a que situar al lado del nombre de la capa en el \u00e1rbol de capas. Tambi\u00e9n es posible poner la cadena de car\u00e1cteres \"auto\" y el portal intentar\u00e1 obtener la imagen autom\u00e1ticamente de GeoServer usando la petici\u00f3n GetLegendGraphics de WMS.\n\n\nactive: Si la capa est\u00e1 inicialmente visible o no\n\n\nlayers: Array con los identificadores de las \nwmsLayers\n a las que se accede a trav\u00e9s de esta capa\n\n\ntimeInstances: Instantes de tiempo en ISO8601 separados por comas\n\n\ntimeStyles: Nombres de los estilos a utilizar para cada instancia temporal. Cada estilo se corresponde con aquella instancia temporal que ocupa la misma posici\u00f3n en la lista. Si no se especifica este par\u00e1metro se utilizar\u00e1 el estilo por defecto para todos los estilos.\n\n\ndate-format: Formato de la fecha para cada capa. Seg\u00fan la librer\u00eda Moment (http://momentjs.com/docs/#/displaying/). Por ejempo: \"DD-MM-YYYY\". Por defecto s\u00f3lo el a\u00f1o (YYYY).\n\n\nfeedback: En el caso de que la herramienta de feedback est\u00e9 instalada, si se quiere o no que la capa aparezca en dicha herramienta para permitir al usuario hacer comentarios sobre la capa.  \n\n\n\n\nPor ejemplo::\n\n\n{\n    \nwmsLayers\n : [\n        {\n            \nid\n : \nprovinces\n,\n            \nbaseUrl\n : \nhttp://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms\n,\n            \nwmsName\n : \nbosques_umsef_db:limites_provinciales\n,\n            \nimageFormat\n : \nimage/png8\n,\n            \nvisible\n : true,\n            \nsourceLink\n : \n,\n            \nsourceLabel\n : \n,\n            \nqueryable\n : true\n        }\n    ],\n    \nportalLayers\n : [\n        {\n            \nid\n : \nprovinces\n,\n            \nactive\n : true,\n            \ninfoFile\n : \nprovinces_def.html\n,\n            \nlabel\n : \n${\nprovinces\n}\n,\n            \nlayers\n : [ \nwms_provinces\n ],\n            \ninlineLegendUrl\n : \nhttp://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms?REQUEST=GetLegendGraphic\nVERSION=1.0.0\nFORMAT=image/png\nWIDTH=20\nHEIGHT=20\nLAYER=bosques_umsef_db:limites_provinciales\nTRANSPARENT=true\n,\n            \ntimeInstances\n : \n,\n            \ntimeStyles\n : \n,\n            \ndate-format\n : \n\n        }\n    ],\n    ...\n}\n\n\n\n\n\n\n\n\n\ngroups\n define la estructura final de las capas en el \u00e1rbol de capas de la aplicaci\u00f3n. Cada elemento de \ngroups\n contiene:\n\n\n\n\nid: id del grupo\n\n\nlabel: Igual que en \nportalLayer\n\n\ninfoFile: Igual que en \nportalLayer\n\n\ninfoLink: Igual que en \nportalLayer\n\n\nitems. Array de otros grupos, con la misma estructura que este elemento (recursivo).\n\n\n\n\nPor ejemplo::\n\n\n{\n    \nwmsLayers\n : [\n        {\n            \nid\n : \nprovinces\n,\n            \nbaseUrl\n : \nhttp://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms\n,\n            \nwmsName\n : \nbosques_umsef_db:limites_provinciales\n,\n            \nimageFormat\n : \nimage/png8\n,\n            \nvisible\n : true,\n            \nsourceLink\n : \n,\n            \nsourceLabel\n : \n,\n            \nqueryable\n : true\n        }\n    ],\n    \nportalLayers\n : [\n        {\n            \nid\n : \nprovinces\n,\n            \nactive\n : true,\n            \ninfoFile\n : \nprovinces_def.html\n,\n            \nlabel\n : \n${\nprovinces\n}\n,\n            \nlayers\n : [ \nwms_provinces\n ],\n            \ninlineLegendUrl\n : \nhttp://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms?REQUEST=GetLegendGraphic\nVERSION=1.0.0\nFORMAT=image/png\nWIDTH=20\nHEIGHT=20\nLAYER=bosques_umsef_db:limites_provinciales\nTRANSPARENT=true\n,\n            \ntimeInstances\n : \n,\n            \ntimeStyles\n : \n,\n            \ndate-format\n : \n\n        }\n    ],\n    \ngroups\n : [\n        {\n            \nid\n : \nbase\n,\n            \nlabel\n : \n${\nbase_layers\n}\n,\n            \ninfoFile\n: \nbase_layers.html\n,\n            \nitems\n : [\nprovinces\n]\n        }\n    ]\n}", 
            "title": "Plugins"
        }, 
        {
            "location": "/ref/plugins/#ol2", 
            "text": "", 
            "title": "ol2"
        }, 
        {
            "location": "/ref/plugins/#mapjs", 
            "text": "gmaps_key : Clave de API de Google Maps.  htmlId : Identificador del elemento HTML donde colocar el mapa. Por defecto  map .  numZoomLevels : N\u00famero de niveles de zoom del mapa.", 
            "title": "map.js"
        }, 
        {
            "location": "/ref/plugins/#layersjson", 
            "text": "Define la estructura de capas del proyecto. Consiste en un elemento JSON con cuatro propiedades::  {\n     default-server  :  http://snmb.ambiente.gob.ar/ ,\n     wmsLayers  : [],\n     portalLayers  : [],\n     groups  : []\n}    default-server  define el servidor que se usar\u00e1 como base en caso de que la URL de las capas no incluyan servidor. Ver atributo  baseUrl  m\u00e1s abajo.    wmsLayers  define las capas WMS que tendr\u00e1 el mapa. El orden en el que estas capas aparecen en el array  wmsLayers  define el orden de las capas en el dibujado del mapa. Cada capa consistir\u00e1 en un elemento que puede ser de tres tipos. El tipo por defecto es WMS y tiene las siguientes propiedades:   id: Identificado de la capa  type: Tipo de la capa: WMS, Open Street Map, Google maps, respectivamente \"wms\", \"osm\" o \"gmaps\". Por defecto se tomar\u00e1 type:\"wms\"  visible: Si la capa es utilizada para visualizarse en el mapa o s\u00f3lo para otras cosas (petici\u00f3n de informaci\u00f3n, por ejemplo).  zIndex: Posici\u00f3n en la pila de dibujado  legend: Nombre del fichero imagen con la leyenda de la capa. Estos ficheros se acceden en static/loc/{lang}/images. Tambi\u00e9n es posible poner la cadena de car\u00e1cteres \"auto\" y el portal intentar\u00e1 obtener la imagen autom\u00e1ticamente de GeoServer usando la petici\u00f3n GetLegendGraphics de WMS.  label: T\u00edtulo de la leyenda  sourceLink: URL del proveedor de los datos  sourceLabel: Texto con el que presentar el enlace especificado en sourceLink   En funci\u00f3n del tipo de la capa se especificar\u00e1n adem\u00e1s otras propiedades    WMS :   baseUrl: URL del servidor WMS que sirve la capa. Si se especifica una URL sin servidor, por ejemplo \"/diss_geoserver/gwc/service/wms\", se usar\u00e1  default-server .  wmsName: Nombre de la capa en el servicio WMS  imageFormat: Formato de imagen a utilizar en las llamadas WMS  queryType: Protocolo usado para la herramienta de informaci\u00f3n: \"wfs\" o \"wms\". En caso de ser \"wfs\" los siguientes par\u00e1metros son obligatorios:  queryUrl ,  querGeomFieldName ,  queryFieldNames ,  queryFieldAliases ,  queryTimeField  (en caso de ser una capa temporal). En caso de ser \"wms\" no hay ning\u00fan par\u00e1metro adicional obligatorio, por lo que una capa que quiera usar WMS para la herramienta de informaci\u00f3n puede configurarse s\u00f3lo con:  \"queryType\":\"wms\" . El \u00fanico requisito para capas con  \"queryType\":\"wms\"  es que el servidor codifique en EPSG:4326 la geometr\u00eda de la respuesta al GetFeatureInfo, en caso contrario el objeto consultado no se podr\u00e1 localizar en el mapa mediante zoom y resaltado. Si la capa no tiene un par\u00e1metro  queryType  la capa no ser\u00e1 consultable.  queryUrl: URL base a utilizar en la petici\u00f3n de informaci\u00f3n. Base del servidor WMS o WFS a utilizar (seg\u00fan  queryType ). Si no se especifica se toma  baseUrl .  queryGeomFieldName: Obligatorio en el caso de  \"queryType\":\"wfs\" . El nombre del campo geom\u00e9trico. T\u00edpicamente \"geom\", \"the_geom\", \"geometry\", etc.  queryFieldNames: Obligatorio en el caso de  \"queryType\":\"wfs\" . Nombres de los campos que se quieren obtener en la petici\u00f3n de info.  queryFieldAliases: Obligatorio en el caso de especificar  queryFieldNames . Aliases de los campos especificados en  queryFieldNames .  queryTimeFieldName: Obligatorio en el caso de  \"queryType\":\"wfs\"  si la capa tiene varias instancias temporales. Sin uso en el caso de  \"queryType\":\"wms\" .  queryHighlightBounds: S\u00f3lo para el caso  \"queryType\":\"wms\" . Si se desea resaltar solo el rect\u00e1ngulo que encuadra la geometr\u00eda de los objetos consultados ( true ) o toda la geometr\u00eda ( false ). Por defecto es  false . En los casos en los que la geometr\u00eda es muy grande puede ser conveniente ponerlo a  true  para que el proceso de resaltado sea m\u00e1s r\u00e1pido.   Por ejemplo:            {\n             wmsLayers  : [\n                {\n                     id  :  provinces ,\n                     baseUrl  :  http://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms ,\n                     wmsName  :  bosques_umsef_db:limites_provinciales ,\n                     imageFormat  :  image/png8 ,\n                     visible  : true,\n                     sourceLink  :  ,\n                     sourceLabel  :  ,\n                     queryable  : true\n                }\n            ],\n            ...\n        }    OpenStreetMap :   osmUrls: lista de las URL de los tiles. Usando ${x}, ${y} y ${z} como variables.   Por ejemplo:            {\n             wmsLayers  : [\n                {\n                     id  :  openstreetmap ,\n                     type  :  osm ,\n                     osmUrls  : [\n                         http://a.tile.openstreetmap.org/ ${ z } / ${ x } / ${ y } .png ,\n                         http://b.tile.openstreetmap.org/ ${ z } / ${ x } / ${ y } .png ,\n                         http://c.tile.openstreetmap.org/ ${ z } / ${ x } / ${ y } .png \n                    ]\n                }           \n            ],\n            ...\n        }    Google :   gmaps-type: Tipo de capa Google: ROADMAP, SATELLITE, HYBRID o TERRAIN   Por ejemplo:            {\n             wmsLayers  : [\n                {\n                     id  :  google-maps ,\n                     type  :  gmaps ,\n                     gmaps-type  :  SATELLITE \n                }\n            ],\n            ...\n        }    portalLayers  define las capas que aparecen visibles al usuario. Una  portalLayer  puede contener varias  wmsLayers . Cada  portalLayer  puede contener los siguientes elementos:   id: id de la capa  label: Texto con el nombre de la capa a usar en el portal. Si se especifica entre ${ }, se intentar\u00e1 obtener la traducci\u00f3n de los ficheros .properties existentes en el directorio  messages  del  directorio de configuraci\u00f3n del portal.  infoFile: Nombre del fichero HTML con informaci\u00f3n sobre la capa. El fichero se accede en static/loc/{lang}/html. En la interfaz gr\u00e1fica se representa con un bot\u00f3n de informaci\u00f3n al lado del nombre de la capa  infoLink: Url con la informaci\u00f3n sobre la capa. Igual que infoFile pero especificando una ruta absoluta. infoFile tiene preferencia sobre infoLink, por lo que si se define el primero, infoLink se ignorar\u00e1.  inlineLegendUrl: URL con una imagen peque\u00f1a que situar al lado del nombre de la capa en el \u00e1rbol de capas. Tambi\u00e9n es posible poner la cadena de car\u00e1cteres \"auto\" y el portal intentar\u00e1 obtener la imagen autom\u00e1ticamente de GeoServer usando la petici\u00f3n GetLegendGraphics de WMS.  active: Si la capa est\u00e1 inicialmente visible o no  layers: Array con los identificadores de las  wmsLayers  a las que se accede a trav\u00e9s de esta capa  timeInstances: Instantes de tiempo en ISO8601 separados por comas  timeStyles: Nombres de los estilos a utilizar para cada instancia temporal. Cada estilo se corresponde con aquella instancia temporal que ocupa la misma posici\u00f3n en la lista. Si no se especifica este par\u00e1metro se utilizar\u00e1 el estilo por defecto para todos los estilos.  date-format: Formato de la fecha para cada capa. Seg\u00fan la librer\u00eda Moment (http://momentjs.com/docs/#/displaying/). Por ejempo: \"DD-MM-YYYY\". Por defecto s\u00f3lo el a\u00f1o (YYYY).  feedback: En el caso de que la herramienta de feedback est\u00e9 instalada, si se quiere o no que la capa aparezca en dicha herramienta para permitir al usuario hacer comentarios sobre la capa.     Por ejemplo::  {\n     wmsLayers  : [\n        {\n             id  :  provinces ,\n             baseUrl  :  http://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms ,\n             wmsName  :  bosques_umsef_db:limites_provinciales ,\n             imageFormat  :  image/png8 ,\n             visible  : true,\n             sourceLink  :  ,\n             sourceLabel  :  ,\n             queryable  : true\n        }\n    ],\n     portalLayers  : [\n        {\n             id  :  provinces ,\n             active  : true,\n             infoFile  :  provinces_def.html ,\n             label  :  ${ provinces } ,\n             layers  : [  wms_provinces  ],\n             inlineLegendUrl  :  http://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms?REQUEST=GetLegendGraphic VERSION=1.0.0 FORMAT=image/png WIDTH=20 HEIGHT=20 LAYER=bosques_umsef_db:limites_provinciales TRANSPARENT=true ,\n             timeInstances  :  ,\n             timeStyles  :  ,\n             date-format  :  \n        }\n    ],\n    ...\n}    groups  define la estructura final de las capas en el \u00e1rbol de capas de la aplicaci\u00f3n. Cada elemento de  groups  contiene:   id: id del grupo  label: Igual que en  portalLayer  infoFile: Igual que en  portalLayer  infoLink: Igual que en  portalLayer  items. Array de otros grupos, con la misma estructura que este elemento (recursivo).   Por ejemplo::  {\n     wmsLayers  : [\n        {\n             id  :  provinces ,\n             baseUrl  :  http://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms ,\n             wmsName  :  bosques_umsef_db:limites_provinciales ,\n             imageFormat  :  image/png8 ,\n             visible  : true,\n             sourceLink  :  ,\n             sourceLabel  :  ,\n             queryable  : true\n        }\n    ],\n     portalLayers  : [\n        {\n             id  :  provinces ,\n             active  : true,\n             infoFile  :  provinces_def.html ,\n             label  :  ${ provinces } ,\n             layers  : [  wms_provinces  ],\n             inlineLegendUrl  :  http://snmb.ambiente.gob.ar/geo-server/bosques_umsef_db/wms?REQUEST=GetLegendGraphic VERSION=1.0.0 FORMAT=image/png WIDTH=20 HEIGHT=20 LAYER=bosques_umsef_db:limites_provinciales TRANSPARENT=true ,\n             timeInstances  :  ,\n             timeStyles  :  ,\n             date-format  :  \n        }\n    ],\n     groups  : [\n        {\n             id  :  base ,\n             label  :  ${ base_layers } ,\n             infoFile :  base_layers.html ,\n             items  : [ provinces ]\n        }\n    ]\n}", 
            "title": "layers.json"
        }, 
        {
            "location": "/ref/events/", 
            "text": "Documentaci\u00f3n de referencia de todos los eventos de los plugins. Pensar c\u00f3mo organizar esto (por plugins, por eventos y decir qu\u00e9 plugins utilizan qu\u00e9, con una tabla, etc.)\n\n\nCopiado de snmb-developer:\n\n\n```\nReferencia mensajes\n======================\n\n\n.. _modules-loaded:\n\n\nmodules-loaded\n\n\nEnviado una vez el m\u00f3dulo \ncustomization\n ha cargado todos los m\u00f3dulos especificados por el servidor.\n\n\nPar\u00e1metros: Ninguno.\n\n\nEjemplo de uso: \u00datil para realizar acciones que requieren que todos los m\u00f3dulos hayan sido cargados. Por ejemplo, el env\u00edo de mensajes de potencial inter\u00e9s para alg\u00fan m\u00f3dulo ha de hacerse tras la carga de todos los m\u00f3dulos, es decir, una vez este mensaje ha sido enviado.\n\n\nM\u00e1s informaci\u00f3n:\n\n\n\n\n:ref:\nbootstrap\n\n\n\n\n.. _before-adding-layers:\n\n\nbefore-adding-layers\n\n\nEnviado justo antes de que se empiecen a lanzar los eventos add-group y add-layer. Da la oportunidad a otros m\u00f3dulos de realizar operaciones previas a la carga de las capas.\n\n\nPar\u00e1metros: Ninguno.\n\n\nM\u00e1s informaci\u00f3n:\n\n\n\n\n:ref:\nbootstrap\n\n\n\n\n.. _layers-loaded:\n\n\nlayers-loaded\n\n\nEnviado una vez el m\u00f3dulo \nlayers\n ha lanzado los eventos \nadd-layer\n y \nadd-group\n correspondientes a la configuraci\u00f3n de capas existente en el servidor.\n\n\nPar\u00e1metros: Ninguno\n\n\nEjemplo de uso: \u00datil para realizar acciones que requieren que las capas de informaci\u00f3n se hayan cargado, por ejemplo, para centrar el mapa.\n\n\nM\u00e1s informaci\u00f3n:\n\n\n\n\n:ref:\nbootstrap\n\n\n:ref:\nmoduleconfiguration\n\n\n\n\n.. _reset-layers:\n\n\nreset-layers\n\n\nSe env\u00eda para resetear la configuraci\u00f3n de capas del portal.\n\n\nComo norma general, cualquier m\u00f3dulo que escuche los eventos :ref:\nadd-layer\n, :ref:\nadd-group\n o :ref:\nlayers-loaded\n tambi\u00e9n deber\u00e1 escuchar el evento \nreset-layers\n, y devolver el estado interno del m\u00f3dulo (y del DOM) al que ten\u00eda justo antes de empezar a cargar grupos y capas.\n\n\nPar\u00e1metros: Ninguno\n\n\nM\u00e1s informaci\u00f3n:\n\n\n\n\n:ref:\nadd-layer\n\n\n:ref:\nadd-group\n\n\n:ref:\nlayers-loaded\n\n\n\n\najax\n\n\nEscuchado por el m\u00f3dulo communication para realizar llamadas a servicios.\n\n\nPar\u00e1metros: Un objeto con las siguientes propiedades:\n\n\n\n\nurl: URL a la que se quiere pedir la informaci\u00f3n\n\n\nsuccess: funci\u00f3n a ejecutar cuando el servidor responda satisfactoriamente\n\n\ncomplete: funci\u00f3n a ejecutar cuando el servidor responda, sea satisfactoriamente o tras un error\n\n\nerrorMsg: Mensaje de error\n\n\nerror: funci\u00f3n a ejecutar cuando el servidor responda con un error. Por defecto se generar\u00e1 un mensaje de error con el contenido de errorMsg.\n\n\ncontrolCallBack: funci\u00f3n que recibe el objeto XMLHttpRequest que representa la petici\u00f3n. Este objeto tiene m\u00e9todos como \nabort()\n que permiten la cancelaci\u00f3n de la petici\u00f3n\n\n\n\n\nEjemplo de uso:\n\n\nerror\n\n\nEscuchado por el m\u00f3dulo \nerror\n, que muestra un mensaje de error al usuario:\n\n\nParametros: Mensaje con el error a mostrar\n\n\nEjemplo de uso::\n\n\nbus.send(\nerror\n, \nDirecci\u00f3n de e-mail incorrecta\n);\n\n\n\n\n\ninfo-features\n\n\nResultados de la petici\u00f3n de informaci\u00f3n a una \u00fanica capa.\n\n\nPar\u00e1metros:\n\n\n\n\nwmsLayerId: Id de la capa a la que pertenecen las features.\n\n\n\n\nfeatures: array con las features OpenLayers. Cada feature tiene:\n\n\n\n\n\n\nUna propiedad \"aliases\" que es un array que contiene un objeto con propiedades \"name\" y \"alias\" para cada atributo de la feature. Por ejemplo:\n\n\n.. code-block:: javascript\n\n\n[{\n    \"name\" : \"ident\",\n    \"alias\" : \"Id\"\n},\n{\n    \"name\" : \"nprov\",\n    \"alias\" : \"Nombre\"\n},\n{\n    \"name\" : \"pop96\",\n    \"alias\" : \"Poblaci\u00f3n (1996)\"\n}]\n\n\n\n\n\n\nUna propiedad \"bounds\" con el bounding box de la geometr\u00eda de la feature o null si el servidor no la devolvi\u00f3. Siempre en EPSG:900913.\n\n\n\n\n\n\nUna propiedad highlightGeom con la geometr\u00eda de la feature o el bounding box (en caso de que as\u00ed se configure en el layers.json) o null si el servidor no devolvi\u00f3 datos geom\u00e9tricos. Siempre en EPSG:900913.\n\n\n\n\n\n\nx: Posici\u00f3n X en la que se hizo click para obtener la informaci\u00f3n\n\n\n\n\ny: Posici\u00f3n Y en la que se hizo click para obtener la informaci\u00f3n\n\n\n\n\nEjemplo de uso:\n\n\nM\u00e1s informaci\u00f3n:\n\n\nzoom-in\n\n\nMueve la escala al nivel inmediatamente mayor\n\n\nPar\u00e1metros: Ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\nzoom-in\n);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nzoom-out\n\n\nMueve la escala al nivel inmediatamente menor\n\n\nPar\u00e1metros: Ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\nzoom-out\n);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nzoom-to\n\n\nMueve el encuadre al objeto OpenLayers.Bounds que se pasa como par\u00e1metro. El objeto bounds debe estar en el sistema de referencia del mapa (EPSG:900913)\n\n\nPar\u00e1metros: OpenLayers.Bounds con el extent deseado\n\n\nEjemplo de uso::\n\n\nvar\n \nbounds\n \n=\n \nnew\n \nOpenLayers\n.\nBounds\n();\n\n\nbounds\n.\nextend\n(\nnew\n \nOpenLayers\n.\nLonLat\n(\n0\n,\n42\n));\n\n\nbounds\n.\nextend\n(\nnew\n \nOpenLayers\n.\nLonLat\n(\n10\n,\n52\n));\n\n\n\nbounds\n.\ntransform\n(\n \nnew\n \nOpenLayers\n.\nProjection\n(\nEPSG:4326\n),\n\n     \nnew\n \nOpenLayers\n.\nProjection\n(\nEPSG:900913\n));\n\n\n\nbus\n.\nsend\n(\nzoom-to\n,\n \nbounds\n);\n\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\ninitial-zoom\n\n\nSitua el mapa en la posici\u00f3n inicial\n\n\nPar\u00e1metros: Ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\ninitial-zoom\n);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nset-default-exclusive-control\n\n\nEstablece el control exclusivo por defecto para el mapa. S\u00f3lo un m\u00f3dulo exclusivo est\u00e1 activado en cada momento.\n\n\nPar\u00e1metros: Objeto OpenLayers.Control.\n\n\nEjemplo de uso::\n\n\nvar control = new OpenLayers.Control.WMSGetFeatureInfo({\n...\n});\nbus.send(\nset-default-exclusive-control\n, [control]);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nactivate-default-exclusive-control\n\n\nActivar el control establecido por defecto mediante el mensaje \nset-default-exclusive-control\n\n\nPar\u00e1metros: Ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\nactivate-default-exclusive-control\n);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nactivate-exclusive-control\n\n\nPide la activaci\u00f3n exclusiva del control que se pasa como par\u00e1metro y la desactivaci\u00f3n del control exclusivo que estuviera activado en el momento de lanzar el mensaje \n\n\nPar\u00e1metros: OpenLayers.Control\n\n\nEjemplo de uso::\n\n\nvar clickControl = new OpenLayers.Control({\n...\n});\nbus.send(\nactivate-exclusive-control\n, [ clickControl ]);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nhighlight-feature\n\n\nIndica que se debe resaltar la geometr\u00eda que se pasa como par\u00e1metro\n\n\nPar\u00e1metros: OpenLayers.Geometry\n\n\nEjemplo de uso:\n\n\nM\u00e1s informaci\u00f3n:\n\n\nclear-highlighted-features\n\n\nIndica que se deben de eliminar todos los resaltes establecidos mediante \nhighlight-feature\n\n\nPar\u00e1metros: Ninguno.\n\n\nEjemplo de uso:\n\n\nM\u00e1s informaci\u00f3n:\n\n\n.. _add-group:\n\n\nadd-group\n\n\nIndica que se debe a\u00f1adir un grupo al \u00e1rbol de capas\n\n\nPar\u00e1metros: Un objeto con las siguientes propiedades:\n\n\n\n\nid: identificador del grupo\n\n\nparentId: Opcional, para grupos dentro de otros grupos hace referencia al grupo contenedor\n\n\nname: nombre del grupo\n\n\ninfoLink: Ruta de la p\u00e1gina HTML con informaci\u00f3n sobre el grupo\n\n\n\n\nEjemplo de uso::\n\n\nbus.send(\nadd-group\n, [ {\n    id:\ngrupo_admin\n, \n    name:\nL\u00edmites administrativos\n\n}]);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\n.. _add-layer:\n\n\nadd-layer\n\n\nIndica que se debe a\u00f1adir una capa a la aplicaci\u00f3n\n\n\nPar\u00e1metros: Un objeto con las siguientes propiedades:\n\n\n\n\nid: id de la capa\n\n\ngroupId: id del grupo en el que se debe a\u00f1adir la capa\n\n\nlabel: Texto con el nombre de la capa a usar en el portal\n\n\ninfoLink: Ruta de la p\u00e1gina HTML con informaci\u00f3n sobre la capa\n\n\ninlineLegendUrl: URL con una imagen peque\u00f1a que situar al lado del nombre de la capa en el \u00e1rbol de capas\n\n\nqueryable: Si se pretende ofrecer herramienta de informaci\u00f3n para la capa o no\n\n\nactive: Si la capa est\u00e1 inicialmente visible o no\n\n\n\n\nwmsLayers: Array con la informaci\u00f3n de las distintas capas WMS que se acceder\u00e1n desde esta capa. El caso m\u00e1s habitual es que se acceda s\u00f3lo a una, pero es posible configurar varias. Los objetos de este array tienen la siguiente estructura:\n\n\n\n\n\n\nbaseUrl: URL del servidor WMS que sirve la capa\n\n\n\n\nwmsName: Nombre de la capa en el servicio WMS\n\n\nimageFormat: Formato de imagen a utilizar en las llamadas WMS\n\n\nzIndex: Posici\u00f3n en la pila de dibujado\n\n\nlegend: Nombre del fichero imagen con la leyenda de la capa. Estos ficheros se acceden en static/loc/{lang}/images\n\n\nlabel: T\u00edtulo de la leyenda\n\n\nsourceLink: URL del proveedor de los datos\n\n\nsourceLabel: Texto con el que presentar el enlace especificado en sourceLink\n\n\ntimestamps: Array con los instantes de tiempo en ISO8601 para los que la capa tiene informaci\u00f3n\n\n\n\n\nEjemplo de uso::\n\n\nbus.send(\nadd-layer\n, {\n    \nid\n : \nmeteo-eeuu\n,\n    \ngroupId\n : \nlandcover\n,\n    \nlabel\n : \nRadar EEUU\n,\n    \nactive\n : \ntrue\n,\n    \nwmsLayers\n : [ {\n        \nbaseUrl\n : \nhttp://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r-t.cgi\n,\n        \nwmsName\n : \nnexrad-n0r-wmst\n\n    } ]\n});\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nlayer-visibility\n\n\nCambia la visibilidad de una capa\n\n\nPar\u00e1metros:\n\n\n\n\nid de la capa portal\n\n\nvalor de visibilidad\n\n\n\n\nEjemplo de uso::\n\n\nbus.send(\nlayer-visibility\n, [\nprovincias\n, false]);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\ntime-slider.selection\n\n\nLanzado cuando el usuario selecciona un instante temporal global distinto al actual. Generalmente se actualiza el mapa con la informaci\u00f3n de esa fecha.\n\n\nPar\u00e1metros: objeto Date con el instante temporal seleccionado\n\n\nEjemplo de uso::\n\n\nvar d = new Date();\nbus.send(\ntime-slider.selection\n, d);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nlayer-time-slider.selection\n\n\nLanzado cuando el usuario selecciona un instante temporal espec\u00edfico para una capa (a diferencia del \ntime-slider.selection\n cuyo instante es global para todas las capas). \n\n\nPar\u00e1metros:\n\n\n\n\nid de la portalLayer que ha determinado su instante temporal.\n\n\nobjeto Date con el instante temporal seleccionado\n\n\n\n\nEjemplo de uso::\n\n\nvar d = new Date();\nbus.send(\nlayer-time-slider.selection\n, [\nmi-portal-layer\n, date]);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nlayer-timestamp-selected\n\n\nUna capa ha escuchado uno de los eventos de selecci\u00f3n temporal y ha determinado qu\u00e9 instancia temporal es la que m\u00e1s se ajusta a esa. La capa selecciona la \u00faltima instancia temporal que es menor o igual al instante seleccionado o la primera instancia si el instante seleccionado es anterior a todas sus instancias.\n\n\nPar\u00e1metros:\n\n\n\n\nid de la portalLayer que ha determinado su instante temporal.\n\n\nobjeto Date con el instante temporal seleccionado\n\n\ncadena de car\u00e1cteres con el nombre del estilo que se debe usar para esta instancia temporal. Puede ser nulo si la capa no requiere un estilo distinto por instante.\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\ntoggle-legend\n\n\nEscuchado por el m\u00f3dulo \nlegend-panel\n para mostrar u ocultar el panel con la leyenda.\n\n\nPar\u00e1metros: Ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\ntoggle-legend\n);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nregister-layer-action\n\n\nEscuchado por la lista de capas. Instala un bot\u00f3n a la derecha de las capas que realizar\u00e1 una acci\u00f3n al ser pulsado.\n\n\nPar\u00e1metros: Funci\u00f3n que devuelve el objeto jQuery que se mostar\u00e1 a modo de bot\u00f3n. Esta funci\u00f3n toma como par\u00e1metro el mismo objeto que se lanza en el evento :ref:\nadd-layer\n.  \n\n\nEjemplo de uso (bot\u00f3n de informaci\u00f3n)::\n\n\nbus.listen(\nbefore-adding-layers\n, function() {\n\n    var showInfoAction = function(portalLayer) {\n        if (portalLayer.hasOwnProperty(\ninfoFile\n)) {\n            aLink = $(\na/\n).attr(\nhref\n, portalLayer.infoFile);\n            aLink.addClass(\nlayer_info_button\n);\n            aLink.fancybox({\n                \ncloseBtn\n : \ntrue\n,\n                \nopenEffect\n : \nelastic\n,\n                \ncloseEffect\n : \nelastic\n,\n                \ntype\n : \niframe\n,\n                \noverlayOpacity\n : 0.5\n            });\n            return aLink;\n        } else {\n            return null;\n        }\n    };\n\n    bus.send(\nregister-layer-action\n, showInfoAction);\n\n});\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nregister-group-action\n\n\nIgual que register-layer-action pero para grupos.\n\n\nshow-layer-panel\n\n\nActiva el panel de capas indicado.\n\n\nPar\u00e1metros: identificador del panel a activar. La lista de paneles puede variar en funci\u00f3n de los plugins que haya activados. La lista completa de ids es:\n\n\n\n\nall_layers_selector\n\n\nlayers_transparency_selector\n\n\nlayer_slider_selector (s\u00f3lo con el plugin \nlayer-time-sliders\n)\n\n\n\n\nEjemplo de uso::\n\n\nbus.send(\nshow-layer-panel\n, [ \nlayers_transparency_selector\n ]);\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nshow-info\n\n\nMuestra una ventana emergente con determinada informaci\u00f3n que se pasa como par\u00e1metro.\n\n\nPar\u00e1metros:\n\n\n\n\ntitle: T\u00edtulo de la ventana\n\n\nlink: Bien una url que apunta a la p\u00e1gina que se pretende mostrar, o un objeto jquery que ser\u00e1 mostrado en la ventana  \n\n\neventOptions: Opcional. Elemento con las opciones para la personalizaci\u00f3n de la ventana. Actualmente se utiliza FancyBox por lo que se puede a\u00f1adir cualquier opci\u00f3n v\u00e1lida de este framework.\n\n\n\n\nEjemplo de uso::\n\n\nbus\n.\nsend\n(\nshow-info\n,\n \n[\n \nMi info\n,\n \nhttp://ambiente.gob.am/portal/static/loc/es/html/doc.html\n \n]\n);\n\n\n\n\n\n\nM\u00e1s informaci\u00f3n:\n\n\nshow-layer-info\n\n\nMuestra la informaci\u00f3n asociada a una capa con su atributo infoLink o infoFile.\n\n\nPar\u00e1metros: identificador de la capa.\n\n\nEjemplo de uso::\n\n\nbus.send(\nshow-layer-info\n, [ \nprovincias\n ]);\n\n\n\n\n\nshow-group-info\n\n\nMuestra la informaci\u00f3n asociada a un grupo con su atributo infoLink o infoFile.\n\n\nPar\u00e1metros: identificador del grupo\n\n\nEjemplo de uso::\n\n\nbus.send(\nshow-group-info\n, [ \nbase\n ]);\n\n\n\n\n\nshow-wait-mask\n\n\nMuestra un indicador de que el sistema est\u00e1 ocupado y el usuario debe esperar\n\n\nPar\u00e1metros: Texto informativo\n\n\nEjemplo de uso::\n\n\nbus.send(\nshow-wait-mask\n, \nEnviando informaci\u00f3n al servidor...\n);\n\n\n\n\n\nhide-wait-mask\n\n\nOculta el indicador mostrado por \nshow-wait-mask\n\n\nPar\u00e1metros: Ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\nhide-wait-mask\n);\n\n\n\n\n\nactivate-feedback\n\n\nActiva el modo feedback mostrando la ventana y seleccionando la herramienta para el dibujado del pol\u00edgono sobre el que se da el feedback.\n\n\nPar\u00e1metros: ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\nactivate-feedback\n);\n\n\n\n\n\ndeactivate-feedback\n\n\nDesactiva el modo feedback, ocultando la ventana y volviendo a la herramienta por defecto (navegaci\u00f3n).\n\n\nPar\u00e1metros: ninguno\n\n\nEjemplo de uso::\n\n\nbus.send(\ndeactivate-feedback\n);\n```", 
            "title": "Eventos"
        }, 
        {
            "location": "/ref/events/#modules-loaded", 
            "text": "Enviado una vez el m\u00f3dulo  customization  ha cargado todos los m\u00f3dulos especificados por el servidor.  Par\u00e1metros: Ninguno.  Ejemplo de uso: \u00datil para realizar acciones que requieren que todos los m\u00f3dulos hayan sido cargados. Por ejemplo, el env\u00edo de mensajes de potencial inter\u00e9s para alg\u00fan m\u00f3dulo ha de hacerse tras la carga de todos los m\u00f3dulos, es decir, una vez este mensaje ha sido enviado.  M\u00e1s informaci\u00f3n:   :ref: bootstrap   .. _before-adding-layers:", 
            "title": "modules-loaded"
        }, 
        {
            "location": "/ref/events/#before-adding-layers", 
            "text": "Enviado justo antes de que se empiecen a lanzar los eventos add-group y add-layer. Da la oportunidad a otros m\u00f3dulos de realizar operaciones previas a la carga de las capas.  Par\u00e1metros: Ninguno.  M\u00e1s informaci\u00f3n:   :ref: bootstrap   .. _layers-loaded:", 
            "title": "before-adding-layers"
        }, 
        {
            "location": "/ref/events/#layers-loaded", 
            "text": "Enviado una vez el m\u00f3dulo  layers  ha lanzado los eventos  add-layer  y  add-group  correspondientes a la configuraci\u00f3n de capas existente en el servidor.  Par\u00e1metros: Ninguno  Ejemplo de uso: \u00datil para realizar acciones que requieren que las capas de informaci\u00f3n se hayan cargado, por ejemplo, para centrar el mapa.  M\u00e1s informaci\u00f3n:   :ref: bootstrap  :ref: moduleconfiguration   .. _reset-layers:", 
            "title": "layers-loaded"
        }, 
        {
            "location": "/ref/events/#reset-layers", 
            "text": "Se env\u00eda para resetear la configuraci\u00f3n de capas del portal.  Como norma general, cualquier m\u00f3dulo que escuche los eventos :ref: add-layer , :ref: add-group  o :ref: layers-loaded  tambi\u00e9n deber\u00e1 escuchar el evento  reset-layers , y devolver el estado interno del m\u00f3dulo (y del DOM) al que ten\u00eda justo antes de empezar a cargar grupos y capas.  Par\u00e1metros: Ninguno  M\u00e1s informaci\u00f3n:   :ref: add-layer  :ref: add-group  :ref: layers-loaded", 
            "title": "reset-layers"
        }, 
        {
            "location": "/ref/events/#ajax", 
            "text": "Escuchado por el m\u00f3dulo communication para realizar llamadas a servicios.  Par\u00e1metros: Un objeto con las siguientes propiedades:   url: URL a la que se quiere pedir la informaci\u00f3n  success: funci\u00f3n a ejecutar cuando el servidor responda satisfactoriamente  complete: funci\u00f3n a ejecutar cuando el servidor responda, sea satisfactoriamente o tras un error  errorMsg: Mensaje de error  error: funci\u00f3n a ejecutar cuando el servidor responda con un error. Por defecto se generar\u00e1 un mensaje de error con el contenido de errorMsg.  controlCallBack: funci\u00f3n que recibe el objeto XMLHttpRequest que representa la petici\u00f3n. Este objeto tiene m\u00e9todos como  abort()  que permiten la cancelaci\u00f3n de la petici\u00f3n   Ejemplo de uso:", 
            "title": "ajax"
        }, 
        {
            "location": "/ref/events/#error", 
            "text": "Escuchado por el m\u00f3dulo  error , que muestra un mensaje de error al usuario:  Parametros: Mensaje con el error a mostrar  Ejemplo de uso::  bus.send( error ,  Direcci\u00f3n de e-mail incorrecta );", 
            "title": "error"
        }, 
        {
            "location": "/ref/events/#info-features", 
            "text": "Resultados de la petici\u00f3n de informaci\u00f3n a una \u00fanica capa.  Par\u00e1metros:   wmsLayerId: Id de la capa a la que pertenecen las features.   features: array con las features OpenLayers. Cada feature tiene:    Una propiedad \"aliases\" que es un array que contiene un objeto con propiedades \"name\" y \"alias\" para cada atributo de la feature. Por ejemplo:  .. code-block:: javascript  [{\n    \"name\" : \"ident\",\n    \"alias\" : \"Id\"\n},\n{\n    \"name\" : \"nprov\",\n    \"alias\" : \"Nombre\"\n},\n{\n    \"name\" : \"pop96\",\n    \"alias\" : \"Poblaci\u00f3n (1996)\"\n}]    Una propiedad \"bounds\" con el bounding box de la geometr\u00eda de la feature o null si el servidor no la devolvi\u00f3. Siempre en EPSG:900913.    Una propiedad highlightGeom con la geometr\u00eda de la feature o el bounding box (en caso de que as\u00ed se configure en el layers.json) o null si el servidor no devolvi\u00f3 datos geom\u00e9tricos. Siempre en EPSG:900913.    x: Posici\u00f3n X en la que se hizo click para obtener la informaci\u00f3n   y: Posici\u00f3n Y en la que se hizo click para obtener la informaci\u00f3n   Ejemplo de uso:  M\u00e1s informaci\u00f3n:", 
            "title": "info-features"
        }, 
        {
            "location": "/ref/events/#zoom-in", 
            "text": "Mueve la escala al nivel inmediatamente mayor  Par\u00e1metros: Ninguno  Ejemplo de uso::  bus.send( zoom-in );  M\u00e1s informaci\u00f3n:", 
            "title": "zoom-in"
        }, 
        {
            "location": "/ref/events/#zoom-out", 
            "text": "Mueve la escala al nivel inmediatamente menor  Par\u00e1metros: Ninguno  Ejemplo de uso::  bus.send( zoom-out );  M\u00e1s informaci\u00f3n:", 
            "title": "zoom-out"
        }, 
        {
            "location": "/ref/events/#zoom-to", 
            "text": "Mueve el encuadre al objeto OpenLayers.Bounds que se pasa como par\u00e1metro. El objeto bounds debe estar en el sistema de referencia del mapa (EPSG:900913)  Par\u00e1metros: OpenLayers.Bounds con el extent deseado  Ejemplo de uso::  var   bounds   =   new   OpenLayers . Bounds ();  bounds . extend ( new   OpenLayers . LonLat ( 0 , 42 ));  bounds . extend ( new   OpenLayers . LonLat ( 10 , 52 ));  bounds . transform (   new   OpenLayers . Projection ( EPSG:4326 ), \n      new   OpenLayers . Projection ( EPSG:900913 ));  bus . send ( zoom-to ,   bounds );   M\u00e1s informaci\u00f3n:", 
            "title": "zoom-to"
        }, 
        {
            "location": "/ref/events/#initial-zoom", 
            "text": "Situa el mapa en la posici\u00f3n inicial  Par\u00e1metros: Ninguno  Ejemplo de uso::  bus.send( initial-zoom );  M\u00e1s informaci\u00f3n:", 
            "title": "initial-zoom"
        }, 
        {
            "location": "/ref/events/#set-default-exclusive-control", 
            "text": "Establece el control exclusivo por defecto para el mapa. S\u00f3lo un m\u00f3dulo exclusivo est\u00e1 activado en cada momento.  Par\u00e1metros: Objeto OpenLayers.Control.  Ejemplo de uso::  var control = new OpenLayers.Control.WMSGetFeatureInfo({\n...\n});\nbus.send( set-default-exclusive-control , [control]);  M\u00e1s informaci\u00f3n:", 
            "title": "set-default-exclusive-control"
        }, 
        {
            "location": "/ref/events/#activate-default-exclusive-control", 
            "text": "Activar el control establecido por defecto mediante el mensaje  set-default-exclusive-control  Par\u00e1metros: Ninguno  Ejemplo de uso::  bus.send( activate-default-exclusive-control );  M\u00e1s informaci\u00f3n:", 
            "title": "activate-default-exclusive-control"
        }, 
        {
            "location": "/ref/events/#activate-exclusive-control", 
            "text": "Pide la activaci\u00f3n exclusiva del control que se pasa como par\u00e1metro y la desactivaci\u00f3n del control exclusivo que estuviera activado en el momento de lanzar el mensaje   Par\u00e1metros: OpenLayers.Control  Ejemplo de uso::  var clickControl = new OpenLayers.Control({\n...\n});\nbus.send( activate-exclusive-control , [ clickControl ]);  M\u00e1s informaci\u00f3n:", 
            "title": "activate-exclusive-control"
        }, 
        {
            "location": "/ref/events/#highlight-feature", 
            "text": "Indica que se debe resaltar la geometr\u00eda que se pasa como par\u00e1metro  Par\u00e1metros: OpenLayers.Geometry  Ejemplo de uso:  M\u00e1s informaci\u00f3n:", 
            "title": "highlight-feature"
        }, 
        {
            "location": "/ref/events/#clear-highlighted-features", 
            "text": "Indica que se deben de eliminar todos los resaltes establecidos mediante  highlight-feature  Par\u00e1metros: Ninguno.  Ejemplo de uso:  M\u00e1s informaci\u00f3n:  .. _add-group:", 
            "title": "clear-highlighted-features"
        }, 
        {
            "location": "/ref/events/#add-group", 
            "text": "Indica que se debe a\u00f1adir un grupo al \u00e1rbol de capas  Par\u00e1metros: Un objeto con las siguientes propiedades:   id: identificador del grupo  parentId: Opcional, para grupos dentro de otros grupos hace referencia al grupo contenedor  name: nombre del grupo  infoLink: Ruta de la p\u00e1gina HTML con informaci\u00f3n sobre el grupo   Ejemplo de uso::  bus.send( add-group , [ {\n    id: grupo_admin , \n    name: L\u00edmites administrativos \n}]);  M\u00e1s informaci\u00f3n:  .. _add-layer:", 
            "title": "add-group"
        }, 
        {
            "location": "/ref/events/#add-layer", 
            "text": "Indica que se debe a\u00f1adir una capa a la aplicaci\u00f3n  Par\u00e1metros: Un objeto con las siguientes propiedades:   id: id de la capa  groupId: id del grupo en el que se debe a\u00f1adir la capa  label: Texto con el nombre de la capa a usar en el portal  infoLink: Ruta de la p\u00e1gina HTML con informaci\u00f3n sobre la capa  inlineLegendUrl: URL con una imagen peque\u00f1a que situar al lado del nombre de la capa en el \u00e1rbol de capas  queryable: Si se pretende ofrecer herramienta de informaci\u00f3n para la capa o no  active: Si la capa est\u00e1 inicialmente visible o no   wmsLayers: Array con la informaci\u00f3n de las distintas capas WMS que se acceder\u00e1n desde esta capa. El caso m\u00e1s habitual es que se acceda s\u00f3lo a una, pero es posible configurar varias. Los objetos de este array tienen la siguiente estructura:    baseUrl: URL del servidor WMS que sirve la capa   wmsName: Nombre de la capa en el servicio WMS  imageFormat: Formato de imagen a utilizar en las llamadas WMS  zIndex: Posici\u00f3n en la pila de dibujado  legend: Nombre del fichero imagen con la leyenda de la capa. Estos ficheros se acceden en static/loc/{lang}/images  label: T\u00edtulo de la leyenda  sourceLink: URL del proveedor de los datos  sourceLabel: Texto con el que presentar el enlace especificado en sourceLink  timestamps: Array con los instantes de tiempo en ISO8601 para los que la capa tiene informaci\u00f3n   Ejemplo de uso::  bus.send( add-layer , {\n     id  :  meteo-eeuu ,\n     groupId  :  landcover ,\n     label  :  Radar EEUU ,\n     active  :  true ,\n     wmsLayers  : [ {\n         baseUrl  :  http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r-t.cgi ,\n         wmsName  :  nexrad-n0r-wmst \n    } ]\n});  M\u00e1s informaci\u00f3n:", 
            "title": "add-layer"
        }, 
        {
            "location": "/ref/events/#layer-visibility", 
            "text": "Cambia la visibilidad de una capa  Par\u00e1metros:   id de la capa portal  valor de visibilidad   Ejemplo de uso::  bus.send( layer-visibility , [ provincias , false]);  M\u00e1s informaci\u00f3n:", 
            "title": "layer-visibility"
        }, 
        {
            "location": "/ref/events/#time-sliderselection", 
            "text": "Lanzado cuando el usuario selecciona un instante temporal global distinto al actual. Generalmente se actualiza el mapa con la informaci\u00f3n de esa fecha.  Par\u00e1metros: objeto Date con el instante temporal seleccionado  Ejemplo de uso::  var d = new Date();\nbus.send( time-slider.selection , d);  M\u00e1s informaci\u00f3n:", 
            "title": "time-slider.selection"
        }, 
        {
            "location": "/ref/events/#layer-time-sliderselection", 
            "text": "Lanzado cuando el usuario selecciona un instante temporal espec\u00edfico para una capa (a diferencia del  time-slider.selection  cuyo instante es global para todas las capas).   Par\u00e1metros:   id de la portalLayer que ha determinado su instante temporal.  objeto Date con el instante temporal seleccionado   Ejemplo de uso::  var d = new Date();\nbus.send( layer-time-slider.selection , [ mi-portal-layer , date]);  M\u00e1s informaci\u00f3n:", 
            "title": "layer-time-slider.selection"
        }, 
        {
            "location": "/ref/events/#layer-timestamp-selected", 
            "text": "Una capa ha escuchado uno de los eventos de selecci\u00f3n temporal y ha determinado qu\u00e9 instancia temporal es la que m\u00e1s se ajusta a esa. La capa selecciona la \u00faltima instancia temporal que es menor o igual al instante seleccionado o la primera instancia si el instante seleccionado es anterior a todas sus instancias.  Par\u00e1metros:   id de la portalLayer que ha determinado su instante temporal.  objeto Date con el instante temporal seleccionado  cadena de car\u00e1cteres con el nombre del estilo que se debe usar para esta instancia temporal. Puede ser nulo si la capa no requiere un estilo distinto por instante.   M\u00e1s informaci\u00f3n:", 
            "title": "layer-timestamp-selected"
        }, 
        {
            "location": "/ref/events/#toggle-legend", 
            "text": "Escuchado por el m\u00f3dulo  legend-panel  para mostrar u ocultar el panel con la leyenda.  Par\u00e1metros: Ninguno  Ejemplo de uso::  bus.send( toggle-legend );  M\u00e1s informaci\u00f3n:", 
            "title": "toggle-legend"
        }, 
        {
            "location": "/ref/events/#register-layer-action", 
            "text": "Escuchado por la lista de capas. Instala un bot\u00f3n a la derecha de las capas que realizar\u00e1 una acci\u00f3n al ser pulsado.  Par\u00e1metros: Funci\u00f3n que devuelve el objeto jQuery que se mostar\u00e1 a modo de bot\u00f3n. Esta funci\u00f3n toma como par\u00e1metro el mismo objeto que se lanza en el evento :ref: add-layer .    Ejemplo de uso (bot\u00f3n de informaci\u00f3n)::  bus.listen( before-adding-layers , function() {\n\n    var showInfoAction = function(portalLayer) {\n        if (portalLayer.hasOwnProperty( infoFile )) {\n            aLink = $( a/ ).attr( href , portalLayer.infoFile);\n            aLink.addClass( layer_info_button );\n            aLink.fancybox({\n                 closeBtn  :  true ,\n                 openEffect  :  elastic ,\n                 closeEffect  :  elastic ,\n                 type  :  iframe ,\n                 overlayOpacity  : 0.5\n            });\n            return aLink;\n        } else {\n            return null;\n        }\n    };\n\n    bus.send( register-layer-action , showInfoAction);\n\n});  M\u00e1s informaci\u00f3n:", 
            "title": "register-layer-action"
        }, 
        {
            "location": "/ref/events/#register-group-action", 
            "text": "Igual que register-layer-action pero para grupos.", 
            "title": "register-group-action"
        }, 
        {
            "location": "/ref/events/#show-layer-panel", 
            "text": "Activa el panel de capas indicado.  Par\u00e1metros: identificador del panel a activar. La lista de paneles puede variar en funci\u00f3n de los plugins que haya activados. La lista completa de ids es:   all_layers_selector  layers_transparency_selector  layer_slider_selector (s\u00f3lo con el plugin  layer-time-sliders )   Ejemplo de uso::  bus.send( show-layer-panel , [  layers_transparency_selector  ]);  M\u00e1s informaci\u00f3n:", 
            "title": "show-layer-panel"
        }, 
        {
            "location": "/ref/events/#show-info", 
            "text": "Muestra una ventana emergente con determinada informaci\u00f3n que se pasa como par\u00e1metro.  Par\u00e1metros:   title: T\u00edtulo de la ventana  link: Bien una url que apunta a la p\u00e1gina que se pretende mostrar, o un objeto jquery que ser\u00e1 mostrado en la ventana    eventOptions: Opcional. Elemento con las opciones para la personalizaci\u00f3n de la ventana. Actualmente se utiliza FancyBox por lo que se puede a\u00f1adir cualquier opci\u00f3n v\u00e1lida de este framework.   Ejemplo de uso::  bus . send ( show-info ,   [   Mi info ,   http://ambiente.gob.am/portal/static/loc/es/html/doc.html   ] );   M\u00e1s informaci\u00f3n:", 
            "title": "show-info"
        }, 
        {
            "location": "/ref/events/#show-layer-info", 
            "text": "Muestra la informaci\u00f3n asociada a una capa con su atributo infoLink o infoFile.  Par\u00e1metros: identificador de la capa.  Ejemplo de uso::  bus.send( show-layer-info , [  provincias  ]);", 
            "title": "show-layer-info"
        }, 
        {
            "location": "/ref/events/#show-group-info", 
            "text": "Muestra la informaci\u00f3n asociada a un grupo con su atributo infoLink o infoFile.  Par\u00e1metros: identificador del grupo  Ejemplo de uso::  bus.send( show-group-info , [  base  ]);", 
            "title": "show-group-info"
        }, 
        {
            "location": "/ref/events/#show-wait-mask", 
            "text": "Muestra un indicador de que el sistema est\u00e1 ocupado y el usuario debe esperar  Par\u00e1metros: Texto informativo  Ejemplo de uso::  bus.send( show-wait-mask ,  Enviando informaci\u00f3n al servidor... );", 
            "title": "show-wait-mask"
        }, 
        {
            "location": "/ref/events/#hide-wait-mask", 
            "text": "Oculta el indicador mostrado por  show-wait-mask  Par\u00e1metros: Ninguno  Ejemplo de uso::  bus.send( hide-wait-mask );", 
            "title": "hide-wait-mask"
        }, 
        {
            "location": "/ref/events/#activate-feedback", 
            "text": "Activa el modo feedback mostrando la ventana y seleccionando la herramienta para el dibujado del pol\u00edgono sobre el que se da el feedback.  Par\u00e1metros: ninguno  Ejemplo de uso::  bus.send( activate-feedback );", 
            "title": "activate-feedback"
        }, 
        {
            "location": "/ref/events/#deactivate-feedback", 
            "text": "Desactiva el modo feedback, ocultando la ventana y volviendo a la herramienta por defecto (navegaci\u00f3n).  Par\u00e1metros: ninguno  Ejemplo de uso::  bus.send( deactivate-feedback );\n```", 
            "title": "deactivate-feedback"
        }
    ]
}