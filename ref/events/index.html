
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.2, mkdocs-material-1.7.5">
    
    
      
        <title>Eventos - Geoladris</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="Geoladris" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Referencia
                </span>
              
            
            Eventos
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Geoladris
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Usuario
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Usuario
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/quickstart/" title="Guía rápida" class="md-nav__link">
      Guía rápida
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/config/" title="Configuración de aplicaciones" class="md-nav__link">
      Configuración de aplicaciones
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/create/" title="Creación de aplicaciones" class="md-nav__link">
      Creación de aplicaciones
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/download/" title="Descargas" class="md-nav__link">
      Descargas
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Desarrollador
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Desarrollador
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/quickstart/" title="Guía rápida" class="md-nav__link">
      Guía rápida
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/source_code/" title="Código fuente" class="md-nav__link">
      Código fuente
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/apps/" title="Aplicaciones" class="md-nav__link">
      Aplicaciones
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/migrate/" title="Migración" class="md-nav__link">
      Migración
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/releases/" title="Publicación" class="md-nav__link">
      Publicación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/contribute/" title="Contribuir" class="md-nav__link">
      Contribuir
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/eclipse/" title="Desarrollar con Eclipse" class="md-nav__link">
      Desarrollar con Eclipse
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Referencia
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Referencia
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../changelog/" title="Registro de cambios" class="md-nav__link">
      Registro de cambios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Eventos
      </label>
    
    <a href="./" title="Eventos" class="md-nav__link md-nav__link--active">
      Eventos
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules-loaded" title="modules-loaded" class="md-nav__link">
    modules-loaded
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-adding-layers" title="before-adding-layers" class="md-nav__link">
    before-adding-layers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layers-loaded" title="layers-loaded" class="md-nav__link">
    layers-loaded
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reset-layers" title="reset-layers" class="md-nav__link">
    reset-layers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ajax" title="ajax" class="md-nav__link">
    ajax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error" title="error" class="md-nav__link">
    error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#info-features" title="info-features" class="md-nav__link">
    info-features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-in" title="zoom-in" class="md-nav__link">
    zoom-in
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-out" title="zoom-out" class="md-nav__link">
    zoom-out
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-to" title="zoom-to" class="md-nav__link">
    zoom-to
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-zoom" title="initial-zoom" class="md-nav__link">
    initial-zoom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-default-exclusive-control" title="set-default-exclusive-control" class="md-nav__link">
    set-default-exclusive-control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activate-default-exclusive-control" title="activate-default-exclusive-control" class="md-nav__link">
    activate-default-exclusive-control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activate-exclusive-control" title="activate-exclusive-control" class="md-nav__link">
    activate-exclusive-control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#highlight-feature" title="highlight-feature" class="md-nav__link">
    highlight-feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clear-highlighted-features" title="clear-highlighted-features" class="md-nav__link">
    clear-highlighted-features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-group" title="add-group" class="md-nav__link">
    add-group
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-layer" title="add-layer" class="md-nav__link">
    add-layer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-visibility" title="layer-visibility" class="md-nav__link">
    layer-visibility
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time-sliderselection" title="time-slider.selection" class="md-nav__link">
    time-slider.selection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-time-sliderselection" title="layer-time-slider.selection" class="md-nav__link">
    layer-time-slider.selection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-timestamp-selected" title="layer-timestamp-selected" class="md-nav__link">
    layer-timestamp-selected
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#toggle-legend" title="toggle-legend" class="md-nav__link">
    toggle-legend
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-layer-action" title="register-layer-action" class="md-nav__link">
    register-layer-action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-group-action" title="register-group-action" class="md-nav__link">
    register-group-action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-layer-panel" title="show-layer-panel" class="md-nav__link">
    show-layer-panel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-info" title="show-info" class="md-nav__link">
    show-info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-layer-info" title="show-layer-info" class="md-nav__link">
    show-layer-info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-group-info" title="show-group-info" class="md-nav__link">
    show-group-info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-wait-mask" title="show-wait-mask" class="md-nav__link">
    show-wait-mask
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hide-wait-mask" title="hide-wait-mask" class="md-nav__link">
    hide-wait-mask
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activate-feedback" title="activate-feedback" class="md-nav__link">
    activate-feedback
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deactivate-feedback" title="deactivate-feedback" class="md-nav__link">
    deactivate-feedback
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../license/" title="Licencia" class="md-nav__link">
      Licencia
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modules-loaded" title="modules-loaded" class="md-nav__link">
    modules-loaded
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-adding-layers" title="before-adding-layers" class="md-nav__link">
    before-adding-layers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layers-loaded" title="layers-loaded" class="md-nav__link">
    layers-loaded
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reset-layers" title="reset-layers" class="md-nav__link">
    reset-layers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ajax" title="ajax" class="md-nav__link">
    ajax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error" title="error" class="md-nav__link">
    error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#info-features" title="info-features" class="md-nav__link">
    info-features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-in" title="zoom-in" class="md-nav__link">
    zoom-in
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-out" title="zoom-out" class="md-nav__link">
    zoom-out
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zoom-to" title="zoom-to" class="md-nav__link">
    zoom-to
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-zoom" title="initial-zoom" class="md-nav__link">
    initial-zoom
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-default-exclusive-control" title="set-default-exclusive-control" class="md-nav__link">
    set-default-exclusive-control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activate-default-exclusive-control" title="activate-default-exclusive-control" class="md-nav__link">
    activate-default-exclusive-control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activate-exclusive-control" title="activate-exclusive-control" class="md-nav__link">
    activate-exclusive-control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#highlight-feature" title="highlight-feature" class="md-nav__link">
    highlight-feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clear-highlighted-features" title="clear-highlighted-features" class="md-nav__link">
    clear-highlighted-features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-group" title="add-group" class="md-nav__link">
    add-group
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-layer" title="add-layer" class="md-nav__link">
    add-layer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-visibility" title="layer-visibility" class="md-nav__link">
    layer-visibility
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time-sliderselection" title="time-slider.selection" class="md-nav__link">
    time-slider.selection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-time-sliderselection" title="layer-time-slider.selection" class="md-nav__link">
    layer-time-slider.selection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-timestamp-selected" title="layer-timestamp-selected" class="md-nav__link">
    layer-timestamp-selected
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#toggle-legend" title="toggle-legend" class="md-nav__link">
    toggle-legend
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-layer-action" title="register-layer-action" class="md-nav__link">
    register-layer-action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-group-action" title="register-group-action" class="md-nav__link">
    register-group-action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-layer-panel" title="show-layer-panel" class="md-nav__link">
    show-layer-panel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-info" title="show-info" class="md-nav__link">
    show-info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-layer-info" title="show-layer-info" class="md-nav__link">
    show-layer-info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-group-info" title="show-group-info" class="md-nav__link">
    show-group-info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-wait-mask" title="show-wait-mask" class="md-nav__link">
    show-wait-mask
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hide-wait-mask" title="hide-wait-mask" class="md-nav__link">
    hide-wait-mask
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activate-feedback" title="activate-feedback" class="md-nav__link">
    activate-feedback
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deactivate-feedback" title="deactivate-feedback" class="md-nav__link">
    deactivate-feedback
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Eventos</h1>
                
                <p>Documentación de referencia de todos los eventos de los plugins. Pensar cómo organizar esto (por plugins, por eventos y decir qué plugins utilizan qué, con una tabla, etc.)</p>
<p>Copiado de snmb-developer:</p>
<p>```
Referencia mensajes
======================</p>
<p>.. _modules-loaded:</p>
<h2 id="modules-loaded">modules-loaded</h2>
<p>Enviado una vez el módulo <code>customization</code> ha cargado todos los módulos especificados por el servidor.</p>
<p>Parámetros: Ninguno.</p>
<p>Ejemplo de uso: Útil para realizar acciones que requieren que todos los módulos hayan sido cargados. Por ejemplo, el envío de mensajes de potencial interés para algún módulo ha de hacerse tras la carga de todos los módulos, es decir, una vez este mensaje ha sido enviado.</p>
<p>Más información:</p>
<ul>
<li>:ref:<code>bootstrap</code></li>
</ul>
<p>.. _before-adding-layers:</p>
<h2 id="before-adding-layers">before-adding-layers</h2>
<p>Enviado justo antes de que se empiecen a lanzar los eventos add-group y add-layer. Da la oportunidad a otros módulos de realizar operaciones previas a la carga de las capas.</p>
<p>Parámetros: Ninguno.</p>
<p>Más información:</p>
<ul>
<li>:ref:<code>bootstrap</code></li>
</ul>
<p>.. _layers-loaded:</p>
<h2 id="layers-loaded">layers-loaded</h2>
<p>Enviado una vez el módulo <code>layers</code> ha lanzado los eventos <code>add-layer</code> y <code>add-group</code> correspondientes a la configuración de capas existente en el servidor.</p>
<p>Parámetros: Ninguno</p>
<p>Ejemplo de uso: Útil para realizar acciones que requieren que las capas de información se hayan cargado, por ejemplo, para centrar el mapa.</p>
<p>Más información:</p>
<ul>
<li>:ref:<code>bootstrap</code></li>
<li>:ref:<code>moduleconfiguration</code></li>
</ul>
<p>.. _reset-layers:</p>
<h2 id="reset-layers">reset-layers</h2>
<p>Se envía para resetear la configuración de capas del portal.</p>
<p>Como norma general, cualquier módulo que escuche los eventos :ref:<code>add-layer</code>, :ref:<code>add-group</code> o :ref:<code>layers-loaded</code> también deberá escuchar el evento <code>reset-layers</code>, y devolver el estado interno del módulo (y del DOM) al que tenía justo antes de empezar a cargar grupos y capas.</p>
<p>Parámetros: Ninguno</p>
<p>Más información:</p>
<ul>
<li>:ref:<code>add-layer</code></li>
<li>:ref:<code>add-group</code></li>
<li>:ref:<code>layers-loaded</code></li>
</ul>
<h2 id="ajax">ajax</h2>
<p>Escuchado por el módulo communication para realizar llamadas a servicios.</p>
<p>Parámetros: Un objeto con las siguientes propiedades:</p>
<ul>
<li>url: URL a la que se quiere pedir la información</li>
<li>success: función a ejecutar cuando el servidor responda satisfactoriamente</li>
<li>complete: función a ejecutar cuando el servidor responda, sea satisfactoriamente o tras un error</li>
<li>errorMsg: Mensaje de error</li>
<li>error: función a ejecutar cuando el servidor responda con un error. Por defecto se generará un mensaje de error con el contenido de errorMsg.</li>
<li>controlCallBack: función que recibe el objeto XMLHttpRequest que representa la petición. Este objeto tiene métodos como <code>abort()</code> que permiten la cancelación de la petición</li>
</ul>
<p>Ejemplo de uso:</p>
<h2 id="error">error</h2>
<p>Escuchado por el módulo <code>error</code>, que muestra un mensaje de error al usuario:</p>
<p>Parametros: Mensaje con el error a mostrar</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;error&quot;, &quot;Dirección de e-mail incorrecta&quot;);
</pre></div>


<h2 id="info-features">info-features</h2>
<p>Resultados de la petición de información a una única capa.</p>
<p>Parámetros:</p>
<ul>
<li>wmsLayerId: Id de la capa a la que pertenecen las features.</li>
<li>
<p>features: array con las features OpenLayers. Cada feature tiene:</p>
</li>
<li>
<p>Una propiedad "aliases" que es un array que contiene un objeto con propiedades "name" y "alias" para cada atributo de la feature. Por ejemplo:</p>
<p>.. code-block:: javascript</p>
<p>[{
    "name" : "ident",
    "alias" : "Id"
},
{
    "name" : "nprov",
    "alias" : "Nombre"
},
{
    "name" : "pop96",
    "alias" : "Población (1996)"
}]</p>
</li>
<li>
<p>Una propiedad "bounds" con el bounding box de la geometría de la feature o null si el servidor no la devolvió. Siempre en EPSG:900913.</p>
</li>
<li>
<p>Una propiedad highlightGeom con la geometría de la feature o el bounding box (en caso de que así se configure en el layers.json) o null si el servidor no devolvió datos geométricos. Siempre en EPSG:900913.</p>
</li>
<li>
<p>x: Posición X en la que se hizo click para obtener la información</p>
</li>
<li>y: Posición Y en la que se hizo click para obtener la información</li>
</ul>
<p>Ejemplo de uso:</p>
<p>Más información:</p>
<h2 id="zoom-in">zoom-in</h2>
<p>Mueve la escala al nivel inmediatamente mayor</p>
<p>Parámetros: Ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;zoom-in&quot;);
</pre></div>


<p>Más información:</p>
<h2 id="zoom-out">zoom-out</h2>
<p>Mueve la escala al nivel inmediatamente menor</p>
<p>Parámetros: Ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;zoom-out&quot;);
</pre></div>


<p>Más información:</p>
<h2 id="zoom-to">zoom-to</h2>
<p>Mueve el encuadre al objeto OpenLayers.Bounds que se pasa como parámetro. El objeto bounds debe estar en el sistema de referencia del mapa (EPSG:900913)</p>
<p>Parámetros: OpenLayers.Bounds con el extent deseado</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span><span class="nt">var</span> <span class="nt">bounds</span> <span class="o">=</span> <span class="nt">new</span> <span class="nt">OpenLayers</span><span class="p">.</span><span class="nc">Bounds</span><span class="o">();</span>
<span class="nt">bounds</span><span class="p">.</span><span class="nc">extend</span><span class="o">(</span><span class="nt">new</span> <span class="nt">OpenLayers</span><span class="p">.</span><span class="nc">LonLat</span><span class="o">(</span><span class="nt">0</span><span class="o">,</span><span class="nt">42</span><span class="o">));</span>
<span class="nt">bounds</span><span class="p">.</span><span class="nc">extend</span><span class="o">(</span><span class="nt">new</span> <span class="nt">OpenLayers</span><span class="p">.</span><span class="nc">LonLat</span><span class="o">(</span><span class="nt">10</span><span class="o">,</span><span class="nt">52</span><span class="o">));</span>

<span class="nt">bounds</span><span class="p">.</span><span class="nc">transform</span><span class="o">(</span> <span class="nt">new</span> <span class="nt">OpenLayers</span><span class="p">.</span><span class="nc">Projection</span><span class="o">(</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="o">),</span>
     <span class="nt">new</span> <span class="nt">OpenLayers</span><span class="p">.</span><span class="nc">Projection</span><span class="o">(</span><span class="s2">&quot;EPSG:900913&quot;</span><span class="o">));</span>

<span class="nt">bus</span><span class="p">.</span><span class="nc">send</span><span class="o">(</span><span class="s2">&quot;zoom-to&quot;</span><span class="o">,</span> <span class="nt">bounds</span><span class="o">);</span>
</pre></div>


<p>Más información:</p>
<h2 id="initial-zoom">initial-zoom</h2>
<p>Situa el mapa en la posición inicial</p>
<p>Parámetros: Ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;initial-zoom&quot;);
</pre></div>


<p>Más información:</p>
<h2 id="set-default-exclusive-control">set-default-exclusive-control</h2>
<p>Establece el control exclusivo por defecto para el mapa. Sólo un módulo exclusivo está activado en cada momento.</p>
<p>Parámetros: Objeto OpenLayers.Control.</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>var control = new OpenLayers.Control.WMSGetFeatureInfo({
...
});
bus.send(&quot;set-default-exclusive-control&quot;, [control]);
</pre></div>


<p>Más información:</p>
<h2 id="activate-default-exclusive-control">activate-default-exclusive-control</h2>
<p>Activar el control establecido por defecto mediante el mensaje <code>set-default-exclusive-control</code></p>
<p>Parámetros: Ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;activate-default-exclusive-control&quot;);
</pre></div>


<p>Más información:</p>
<h2 id="activate-exclusive-control">activate-exclusive-control</h2>
<p>Pide la activación exclusiva del control que se pasa como parámetro y la desactivación del control exclusivo que estuviera activado en el momento de lanzar el mensaje </p>
<p>Parámetros: OpenLayers.Control</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>var clickControl = new OpenLayers.Control({
...
});
bus.send(&quot;activate-exclusive-control&quot;, [ clickControl ]);
</pre></div>


<p>Más información:</p>
<h2 id="highlight-feature">highlight-feature</h2>
<p>Indica que se debe resaltar la geometría que se pasa como parámetro</p>
<p>Parámetros: OpenLayers.Geometry</p>
<p>Ejemplo de uso:</p>
<p>Más información:</p>
<h2 id="clear-highlighted-features">clear-highlighted-features</h2>
<p>Indica que se deben de eliminar todos los resaltes establecidos mediante <code>highlight-feature</code></p>
<p>Parámetros: Ninguno.</p>
<p>Ejemplo de uso:</p>
<p>Más información:</p>
<p>.. _add-group:</p>
<h2 id="add-group">add-group</h2>
<p>Indica que se debe añadir un grupo al árbol de capas</p>
<p>Parámetros: Un objeto con las siguientes propiedades:</p>
<ul>
<li>id: identificador del grupo</li>
<li>parentId: Opcional, para grupos dentro de otros grupos hace referencia al grupo contenedor</li>
<li>name: nombre del grupo</li>
<li>infoLink: Ruta de la página HTML con información sobre el grupo</li>
</ul>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;add-group&quot;, [ {
    id:&quot;grupo_admin&quot;, 
    name:&quot;Límites administrativos&quot;
}]);
</pre></div>


<p>Más información:</p>
<p>.. _add-layer:</p>
<h2 id="add-layer">add-layer</h2>
<p>Indica que se debe añadir una capa a la aplicación</p>
<p>Parámetros: Un objeto con las siguientes propiedades:</p>
<ul>
<li>id: id de la capa</li>
<li>groupId: id del grupo en el que se debe añadir la capa</li>
<li>label: Texto con el nombre de la capa a usar en el portal</li>
<li>infoLink: Ruta de la página HTML con información sobre la capa</li>
<li>inlineLegendUrl: URL con una imagen pequeña que situar al lado del nombre de la capa en el árbol de capas</li>
<li>queryable: Si se pretende ofrecer herramienta de información para la capa o no</li>
<li>active: Si la capa está inicialmente visible o no</li>
<li>
<p>wmsLayers: Array con la información de las distintas capas WMS que se accederán desde esta capa. El caso más habitual es que se acceda sólo a una, pero es posible configurar varias. Los objetos de este array tienen la siguiente estructura:</p>
</li>
<li>
<p>baseUrl: URL del servidor WMS que sirve la capa</p>
</li>
<li>wmsName: Nombre de la capa en el servicio WMS</li>
<li>imageFormat: Formato de imagen a utilizar en las llamadas WMS</li>
<li>zIndex: Posición en la pila de dibujado</li>
<li>legend: Nombre del fichero imagen con la leyenda de la capa. Estos ficheros se acceden en static/loc/{lang}/images</li>
<li>label: Título de la leyenda</li>
<li>sourceLink: URL del proveedor de los datos</li>
<li>sourceLabel: Texto con el que presentar el enlace especificado en sourceLink</li>
<li>timestamps: Array con los instantes de tiempo en ISO8601 para los que la capa tiene información</li>
</ul>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;add-layer&quot;, {
    &quot;id&quot; : &quot;meteo-eeuu&quot;,
    &quot;groupId&quot; : &quot;landcover&quot;,
    &quot;label&quot; : &quot;Radar EEUU&quot;,
    &quot;active&quot; : &quot;true&quot;,
    &quot;wmsLayers&quot; : [ {
        &quot;baseUrl&quot; : &quot;http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r-t.cgi&quot;,
        &quot;wmsName&quot; : &quot;nexrad-n0r-wmst&quot;
    } ]
});
</pre></div>


<p>Más información:</p>
<h2 id="layer-visibility">layer-visibility</h2>
<p>Cambia la visibilidad de una capa</p>
<p>Parámetros:</p>
<ul>
<li>id de la capa portal</li>
<li>valor de visibilidad</li>
</ul>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;layer-visibility&quot;, [&quot;provincias&quot;, false]);
</pre></div>


<p>Más información:</p>
<h2 id="time-sliderselection">time-slider.selection</h2>
<p>Lanzado cuando el usuario selecciona un instante temporal global distinto al actual. Generalmente se actualiza el mapa con la información de esa fecha.</p>
<p>Parámetros: objeto Date con el instante temporal seleccionado</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>var d = new Date();
bus.send(&quot;time-slider.selection&quot;, d);
</pre></div>


<p>Más información:</p>
<h2 id="layer-time-sliderselection">layer-time-slider.selection</h2>
<p>Lanzado cuando el usuario selecciona un instante temporal específico para una capa (a diferencia del <code>time-slider.selection</code> cuyo instante es global para todas las capas). </p>
<p>Parámetros:</p>
<ul>
<li>id de la portalLayer que ha determinado su instante temporal.</li>
<li>objeto Date con el instante temporal seleccionado</li>
</ul>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>var d = new Date();
bus.send(&quot;layer-time-slider.selection&quot;, [&quot;mi-portal-layer&quot;, date]);
</pre></div>


<p>Más información:</p>
<h2 id="layer-timestamp-selected">layer-timestamp-selected</h2>
<p>Una capa ha escuchado uno de los eventos de selección temporal y ha determinado qué instancia temporal es la que más se ajusta a esa. La capa selecciona la última instancia temporal que es menor o igual al instante seleccionado o la primera instancia si el instante seleccionado es anterior a todas sus instancias.</p>
<p>Parámetros:</p>
<ul>
<li>id de la portalLayer que ha determinado su instante temporal.</li>
<li>objeto Date con el instante temporal seleccionado</li>
<li>cadena de carácteres con el nombre del estilo que se debe usar para esta instancia temporal. Puede ser nulo si la capa no requiere un estilo distinto por instante.</li>
</ul>
<p>Más información:</p>
<h2 id="toggle-legend">toggle-legend</h2>
<p>Escuchado por el módulo <code>legend-panel</code> para mostrar u ocultar el panel con la leyenda.</p>
<p>Parámetros: Ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;toggle-legend&quot;);
</pre></div>


<p>Más información:</p>
<h2 id="register-layer-action">register-layer-action</h2>
<p>Escuchado por la lista de capas. Instala un botón a la derecha de las capas que realizará una acción al ser pulsado.</p>
<p>Parámetros: Función que devuelve el objeto jQuery que se mostará a modo de botón. Esta función toma como parámetro el mismo objeto que se lanza en el evento :ref:<code>add-layer</code>.  </p>
<p>Ejemplo de uso (botón de información)::</p>
<div class="codehilite"><pre><span></span>bus.listen(&quot;before-adding-layers&quot;, function() {

    var showInfoAction = function(portalLayer) {
        if (portalLayer.hasOwnProperty(&quot;infoFile&quot;)) {
            aLink = $(&quot;&lt;a/&gt;&quot;).attr(&quot;href&quot;, portalLayer.infoFile);
            aLink.addClass(&quot;layer_info_button&quot;);
            aLink.fancybox({
                &quot;closeBtn&quot; : &quot;true&quot;,
                &quot;openEffect&quot; : &quot;elastic&quot;,
                &quot;closeEffect&quot; : &quot;elastic&quot;,
                &quot;type&quot; : &quot;iframe&quot;,
                &quot;overlayOpacity&quot; : 0.5
            });
            return aLink;
        } else {
            return null;
        }
    };

    bus.send(&quot;register-layer-action&quot;, showInfoAction);

});
</pre></div>


<p>Más información:</p>
<h2 id="register-group-action">register-group-action</h2>
<p>Igual que register-layer-action pero para grupos.</p>
<h2 id="show-layer-panel">show-layer-panel</h2>
<p>Activa el panel de capas indicado.</p>
<p>Parámetros: identificador del panel a activar. La lista de paneles puede variar en función de los plugins que haya activados. La lista completa de ids es:</p>
<ul>
<li>all_layers_selector</li>
<li>layers_transparency_selector</li>
<li>layer_slider_selector (sólo con el plugin <code>layer-time-sliders</code>)</li>
</ul>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;show-layer-panel&quot;, [ &quot;layers_transparency_selector&quot; ]);
</pre></div>


<p>Más información:</p>
<h2 id="show-info">show-info</h2>
<p>Muestra una ventana emergente con determinada información que se pasa como parámetro.</p>
<p>Parámetros:</p>
<ul>
<li>title: Título de la ventana</li>
<li>link: Bien una url que apunta a la página que se pretende mostrar, o un objeto jquery que será mostrado en la ventana  </li>
<li>eventOptions: Opcional. Elemento con las opciones para la personalización de la ventana. Actualmente se utiliza FancyBox por lo que se puede añadir cualquier opción válida de este framework.</li>
</ul>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span><span class="nt">bus</span><span class="p">.</span><span class="nc">send</span><span class="o">(</span><span class="s2">&quot;show-info&quot;</span><span class="o">,</span> <span class="cp">[</span> <span class="s2">&quot;Mi info&quot;</span><span class="p">,</span> <span class="s2">&quot;http://ambiente.gob.am/portal/static/loc/es/html/doc.html&quot;</span> <span class="cp">]</span><span class="o">);</span>
</pre></div>


<p>Más información:</p>
<h2 id="show-layer-info">show-layer-info</h2>
<p>Muestra la información asociada a una capa con su atributo infoLink o infoFile.</p>
<p>Parámetros: identificador de la capa.</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;show-layer-info&quot;, [ &quot;provincias&quot; ]);
</pre></div>


<h2 id="show-group-info">show-group-info</h2>
<p>Muestra la información asociada a un grupo con su atributo infoLink o infoFile.</p>
<p>Parámetros: identificador del grupo</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;show-group-info&quot;, [ &quot;base&quot; ]);
</pre></div>


<h2 id="show-wait-mask">show-wait-mask</h2>
<p>Muestra un indicador de que el sistema está ocupado y el usuario debe esperar</p>
<p>Parámetros: Texto informativo</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;show-wait-mask&quot;, &quot;Enviando información al servidor...&quot;);
</pre></div>


<h2 id="hide-wait-mask">hide-wait-mask</h2>
<p>Oculta el indicador mostrado por <code>show-wait-mask</code></p>
<p>Parámetros: Ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;hide-wait-mask&quot;);
</pre></div>


<h2 id="activate-feedback">activate-feedback</h2>
<p>Activa el modo feedback mostrando la ventana y seleccionando la herramienta para el dibujado del polígono sobre el que se da el feedback.</p>
<p>Parámetros: ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;activate-feedback&quot;);
</pre></div>


<h2 id="deactivate-feedback">deactivate-feedback</h2>
<p>Desactiva el modo feedback, ocultando la ventana y volviendo a la herramienta por defecto (navegación).</p>
<p>Parámetros: ninguno</p>
<p>Ejemplo de uso::</p>
<div class="codehilite"><pre><span></span>bus.send(&quot;deactivate-feedback&quot;);
```
</pre></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../plugins/" title="Plugins" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Plugins
              </span>
            </div>
          </a>
        
        
          <a href="../license/" title="Licencia" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Licencia
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-07b0fbb49b.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>